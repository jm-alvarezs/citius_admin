(this.webpackJsonpcitius_admin=this.webpackJsonpcitius_admin||[]).push([[0],{113:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(31),r=c.n(s),i=(c(40),c(4)),l=c(6),o=c(7),d=c.n(o),u="LOGIN",j="LOGOUT",b="SET_PROPIEDAD_USER",m="GUARDAR_USUARIO",O="SHOW_MODAL",h="HIDE_MODAL",p="SET_RESPONSE",x="CLEAR_MODAL",f="CLEAR_SUCCESS",v="CLEAR_ALERT",g="MODAL_COMPONENT",N="SHOW_ALERT",y="SHOW_SUCCESS",C="HIDE_SPINNER",_="SHOW_SPINNER",E="VIDEOS_RECIBIDOS",k="SINGLE_VIDEO_RECIBIDO",A="SET_PROPIEDAD_VIDEO",w="CREATE_VIDEO",D="PURCHASE_NEEDED",S="PAQUETES_RECIBIDOS",P="SET_PROPIEDAD_PAQUETE",M="CREATE_PAQUETE",I="PRESENCIALES_HOME_RECIBIDOS",R="SEMANAS_RECIBIDAS",T="RESERVATIONS_RECIBIDAS",Y="SET_CLASE",q="SET_PROPIEDAD_CLASE",L="CREATE_CLASE",H="CLASES_RECIBIDAS",U="TOTAL_RECIBIDO",F="LOCATIONS_RECIBIDAS",B="SET_LOCATION",V="CREATE_LOCATION",G="SET_PROPIEDAD_LOCATION",z="SET_PAQUETE",$="METODOS_RECIBIDOS",W="ORDENES_RECIBIDAS",J="SET_ORDEN",Q="AGREGAR_FAVORITO",X="ELIMINAR_FAVORITO",K="CLASS_CATEGORIES_RECIBIDAS",Z="CLASS_CATEGORY_RECIBIDA",ee="CREATE_CATEGORY",te="SET_PROPIEDAD_CATEGORY",ce="VIDEO_TYPE_RECIBIDOS",ae="SET_PROPIEDAD_CUSTOMER",ne="CUSTOMERS_RECIBIDOS",se="CREATE_CUSTOMER",re="SET_CUSTOMER",ie="COACHES_RECIBIDAS",le="SET_PROPIEDAD_COACH",oe="CREATE_COACH",de="SET_COACH",ue="INSCRITOS_RECIBIDOS",je="INGRESOS_RECBIDOS",be="FAVORITOS_RECIBIDOS",me="MENSUALES_RECIBIDOS",Oe="CLASS_TYPES_RECIBIDOS",he="SET_CLASS_TYPE",pe="SET_PROPIEDAD_CLASS_TYPE",xe="CREATE_CLASS_TYPE",fe="SET_DESCUENTO",ve="HIDE_SPINNER_DESCUENTO",ge="SHOW_SPINNER_DESCUENTO",Ne="CREATE_DESCUENTO",ye="DESCUENTOS_RECIBIDOS",Ce="SET_PROPIEDAD_DESCUENTO",_e="TAGS_RECIBIDOS",Ee="PROGRAMS_RECIBIDOS",ke="SINGLE_PROGRAM_RECIBIDO",Ae="USERS_RECIBIDOS",we="CIRCUITOS_RECIBIDOS",De={class_instructor_id:"nueva",description:"",instructor_id:"",location_id:"",class_type_id:"",capacity:"",class_date:"",is_virtual_class:!1,is_special_event:!1},Se=function(e,t){var c=t.type,a=t.payload;switch(c){case R:return Object(i.a)(Object(i.a)({},e),{},{days:a});case T:return Object(i.a)(Object(i.a)({},e),{},{reservations:a});case Y:return Object(i.a)(Object(i.a)({},e),{},{clase:a});case q:var n=Object(i.a)({},e.clase),s=a.key,r=a.value;return n[s]=r,Object(i.a)(Object(i.a)({},e),{},{clase:n});case L:return Object(i.a)(Object(i.a)({},e),{},{clase:Object(i.a)(Object(i.a)({},De),{},{class_date:d()().format("YYYY-MM-DDTHH:mm:ss")})});case Oe:return Object(i.a)(Object(i.a)({},e),{},{class_types:a});case H:return Object(i.a)(Object(i.a)({},e),{},{clases:a});case U:return Object(i.a)(Object(i.a)({},e),{},{total:a});case _:return Object(i.a)(Object(i.a)({},e),{},{spinner:!0});case C:return Object(i.a)(Object(i.a)({},e),{},{spinner:!1});default:return Object(i.a)({},e)}},Pe=c(54),Me=c.n(Pe);d.a.locale("es",{monthsShort:"Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),weekdaysShort:"Lun_Mar_Mie_Jue_Vie_Sab_Dom".split("_")});var Ie="https://citiusmx.com/api",Re=function(e){if(e&&null!==e){var t=Object.keys(e).map((function(t){return e[t]&&null!==e[t]&&""!==e[t]?"".concat(t,"=").concat(e[t]):null})).filter((function(e){return null!==e}));if(t.length>0)return"".concat(t.join("&"))}return""};function Te(e){return(e=parseFloat(e))&&null!==e&&!isNaN(e)||(e=0),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Ye=function(){var e=document.getElementById("main-button");e&&null!==e&&e.click()},qe=[{name:"Calendario",handle:"/myadmin"},{name:"Reservaciones",handle:"/myadmin/reservaciones"},{name:"Paquetes",handle:"/myadmin/shop"}],Le=[{name:"Mi Informaci\xf3n",handle:"/myadmin/informacion"},{name:"Mis Compras",handle:"/myadmin/pagos"}],He=[{name:"Tarjeta de Cr\xe9dito Online",value:1},{name:"Transferencia electr\xf3nica",value:2},{name:"PayPal",value:3},{name:"Efectivo",value:4},{name:"Terminal PDV",value:6},{name:"Otros m\xe9todos de pago",value:5}],Ue=Me.a.create({baseURL:Ie}),Fe="/single_class",Be={getWeeks:function(e,t){return Ue.get("".concat(Fe,"?start_date=").concat(e,"&end_date=").concat(t))},getClase:function(e){return Ue.get("".concat(Fe,"/single/").concat(e))},getClases:function(e,t){return Ue.get("".concat(Fe,"/admin?start_date=").concat(e,"&end_date=").concat(t))},getMyReservations:function(){return Ue.get("".concat(Fe,"/myreservations"))},getAsistentes:function(e){return Ue.get("".concat(Fe,"/admin/").concat(e))},postReservacion:function(e){return Ue.post("".concat(Fe,"/reservation"),Object(i.a)({},e))},putReservacion:function(e){return Ue.put("".concat(Fe,"/reservation"),Object(i.a)({},e))},cancelReservacion:function(e){return Ue.delete("".concat(Fe,"/").concat(e))},postClase:function(e){return Ue.post(Fe,Object(i.a)({},e))},putClase:function(e){return Ue.put(Fe,Object(i.a)({},e))},postAttend:function(e,t){return Ue.post("".concat(Fe,"/attend"),{class_reservation_id:e,attend:t})},postPayment:function(e,t){return Ue.post("".concat(Fe,"/payment"),{class_reservation_id:e,is_paid:t})},postAsistenteClase:function(e,t,c,a){return Ue.post("".concat(Fe,"/asistente"),{customer_id:e,single_class_id:t,payment_method_id:c,is_paid:a})},updateGuestName:function(e,t){return Ue.put("".concat(Fe,"/guest"),{class_reservation_id:e,name:t})},deleteClase:function(e){return Ue.delete("".concat(Fe,"/").concat(e))},deleteAsistente:function(e){return Ue.delete("".concat(Fe,"/asistente/").concat(e))}},Ve=function(e,t){switch(t.type){case O:return Object(i.a)(Object(i.a)({},e),{},{title:"Precauci\xf3n",showModal:!0,content:t.payload.content,callback:t.payload.callback});case h:return Object(i.a)(Object(i.a)({},e),{},{show:!1});case p:return Object(i.a)(Object(i.a)({},e),{},{response:t.payload});case g:return Object(i.a)(Object(i.a)({},e),{},{showModal:!0,component:t.payload.component,title:t.payload.title,onClose:t.payload.onClose,callback:t.payload.callback});case x:return Object(i.a)(Object(i.a)({},e),{},{show:!1,content:"",component:"",title:"",onClose:"",callback:""});case N:return Object(i.a)(Object(i.a)({},e),{},{showAlert:!0,alertContent:t.payload});case v:return Object(i.a)(Object(i.a)({},e),{},{showAlert:!1,alertContent:""});case"CLEAR":return Object(i.a)({},e);case y:return Object(i.a)(Object(i.a)({},e),{},{showSuccess:!0,successContent:t.payload});case f:return Object(i.a)(Object(i.a)({},e),{},{showSuccess:!1,successContent:""});default:return Object(i.a)({},e)}},Ge=c(0),ze={response:"",show:!1,content:"",callback:""},$e=Object(a.createContext)(ze),We=function(e){var t=e.children,c=Object(a.useReducer)(Ve,ze),n=Object(l.a)(c,2),s=n[0],r=n[1];return Object(Ge.jsx)($e.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{confirm:function(e,t){r({type:O,payload:{content:e,callback:t}})},success:function(e){r({type:y,payload:e}),setTimeout((function(){r({type:f})}),3e3)},hideAlert:function(){r({type:v})},alert:function(e){"object"===typeof e&&(e=e.toString()),String(e).includes("401")||String(e).includes("400")||(r({type:N,payload:e}),setTimeout((function(){return r({type:v})}),5e3))},setResponse:function(e){r({type:p,payload:e}),r({type:h})},clear:function(){r({type:x})},modalComponent:function(e,t,c,a){r({type:g,payload:{title:e,component:t,onClose:c,callback:a}}),function(){var e=document.getElementById("main-button");if(e&&null!==e)e.click();else{var t=document.createElement("button");t.attributes.href="#modal",t.id="main-button",t.setAttribute("data-toggle","modal"),t.setAttribute("data-target","#modal"),t.setAttribute("data-bs-toggle","modal"),t.setAttribute("data-bs-target","#modal"),t.style.visibility="hidden",document.body.appendChild(t),t.click()}}()},clearModal:function(){r({type:x})},clearSuccess:function(){r({type:f})},clearAlert:function(){r({type:v})}}),children:t})},Je={weeks:null,instructorClass:null,class_types:null,spinner:!1,clases:null,clase:null},Qe=Object(a.createContext)(Je),Xe=function(e){var t=e.children,c=Object(a.useReducer)(Se,Je),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e),d=o.alert,u=o.success,j=function(e){Be.getAsistentes(e).then((function(e){var t=e.data.clase;r({type:Y,payload:t})}))},b=function(e,t){Be.getWeeks(e,t).then((function(e){var t=e.data.classes;r({type:R,payload:t})}))};return Object(Ge.jsx)(Qe.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{setClase:function(e){r({type:Y,payload:e})},getClase:function(e){Be.getClase(e).then((function(e){var t=e.data.clase;r({type:Y,payload:t})}))},getClases:function(e,t){r({type:_}),Be.getClases(e,t).then((function(e){var t=e.data,c=t.clases,a=t.total;r({type:H,payload:c}),r({type:U,payload:a}),r({type:C})}))},postClase:function(e){isNaN(e.single_class_id)?Be.postClase(e).then((function(e){u("\xa1Clase guardada con \xe9xito!"),b(),Ye()})):Be.putClase(e).then((function(e){u("\xa1Clase guardada con \xe9xito!"),b(),Ye()}))},clearClase:function(){r({type:Y,payload:null})},postPayment:function(e,t,c){Be.postPayment(e,t).then((function(){u(t?"Pago registrado.":"Pago cancelado."),j(c)}))},getSchedule:b,createClase:function(){r({type:L})},eliminarClase:function(e){Be.deleteClase(e).then((function(){u("\xa1Clase eliminada con \xe9xito!"),b(),Ye()}))},getAsistentes:j,postAsistenteClase:function(e,t,c,a){Be.postAsistenteClase(e,t,c,a).then((function(){j(t),u("\xa1Asistente agregado!"),Ye()})).catch((function(e){e.response&&412===e.response.status&&d("Lo sentimos, esta clase ya esta llena.")}))},setPropiedadClase:function(e,t){r({type:q,payload:{key:e,value:t}})}}),children:t})},Ke={instructor_id:"nueva",first_name:"",last_name:"",birthday:"",nick_name:"",idAdjunto:null},Ze=function(e,t){var c=t.type,a=t.payload;switch(c){case ie:return Object(i.a)(Object(i.a)({},e),{},{coaches:a,coach:null});case de:return Object(i.a)(Object(i.a)({},e),{},{coach:a});case le:var n=Object(i.a)({},e.coach),s=a.key,r=a.value;return n[s]=r,Object(i.a)(Object(i.a)({},e),{},{coach:n});case oe:return Object(i.a)(Object(i.a)({},e),{},{coach:Ke});default:return Object(i.a)({},e)}},et="/files",tt={getAdjunto:function(){return Ue.get(et)},postAdjunto:function(e){return Ue.post(et,e,{headers:{"Content-Type":"multipart/form-data"}})}},ct="/instructors",at={getCoaches:function(){return Ue.get(ct)},getSingleCoach:function(e){return Ue.get("".concat(ct,"/").concat(e))},postCoach:function(e){return Ue.post(ct,Object(i.a)({},e))},putCoach:function(e){return Ue.put(ct,Object(i.a)({},e))},deleteCoach:function(e){return Ue.delete("".concat(ct,"/").concat(e))}},nt={coaches:null,coach:null},st=Object(a.createContext)(nt),rt=function(e){var t=e.children,c=Object(a.useReducer)(Ze,nt),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e),d=o.success,u=o.clearModal,j=function(){at.getCoaches().then((function(e){var t=e.data.instructors;r({type:ie,payload:t})}))};return Object(Ge.jsx)(st.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getCoach:function(e){at.getSingleCoach(e).then((function(e){var t=e.data.instructor;r({type:de,payload:t})}))},setCoach:function(e){r({type:de,payload:e})},postCoach:function(e){var t=function(){u(),j(),Ye(),r({type:de,payload:null}),d("\xa1Coach guardado!")};if(isNaN(e.instructor_id))if(e.file&&null!==e.file){var c=new FormData;c.append("adjunto",e.file),tt.postAdjunto(c).then((function(c){var a=c.data.idAdjunto;e.idAdjunto=a,e.customer&&(e.user_id=e.customer.customer_id),at.postCoach(e).then(t)}))}else e.customer&&(e.user_id=e.customer.customer_id),at.postCoach(e).then(t);else if(e.file&&null!==e.file){var a=new FormData;a.append("adjunto",e.file),tt.postAdjunto(a).then((function(c){var a=c.data.idAdjunto;e.idAdjunto=a,e.customer&&(e.user_id=e.customer.customer_id),at.putCoach(e).then(t)}))}else e.customer&&(e.user_id=e.customer.customer_id),at.putCoach(e).then(t)},getCoaches:j,createCoach:function(){r({type:oe})},deleteCoach:function(e){at.deleteCoach(e).then((function(){Ye(),j()}))},setPropiedadCoach:function(e,t){console.log(t),r({type:le,payload:{key:e,value:t}})}}),children:t})},it=c(9),lt={customer_id:"nuevo",name:"",last_name:"",email:"",phone:"",instagram:"",signup_reason:""},ot=function(e,t){var c=t.type,a=t.payload;switch(c){case ne:return Object(i.a)(Object(i.a)({},e),{},{customers:a});case re:return Object(i.a)(Object(i.a)({},e),{},{customer:a});case se:return Object(i.a)(Object(i.a)({},e),{},{customer:lt});case ae:var n=Object(i.a)({},e.customer),s=a.key,r=a.value;return n[s]=r,Object(i.a)(Object(i.a)({},e),{},{customer:n});default:return Object(i.a)({},e)}},dt="/customer",ut={getCustomer:function(e){return Ue.get("".concat(dt,"/admin/").concat(e))},getAllCustomers:function(e){return Ue.get("".concat(dt,"/admin/all?").concat(Re(e)))},getCustomersByQuery:function(e){return Ue.get("".concat(dt,"/query?query=").concat(e))},postCustomer:function(e){return Ue.post(dt,Object(i.a)({},e))},putCustomer:function(e){return Ue.put(dt,Object(i.a)({},e))},putCurrentCustomer:function(e){return Ue.put(dt,Object(i.a)({},e))},extenderAcceso:function(e,t,c,a,n,s){return Ue.post("".concat(dt,"/giveAccess"),{customer_id:e,class_package_id:t,expiration_days:c,is_gift:a,total:n,payment_method_id:s})},revokeAccess:function(e){return Ue.put("".concat(dt,"/revokeAccess"),{purchase_id:e})},removeClasses:function(e,t){return Ue.put("".concat(dt,"/removeClasses"),{customer_id:e,amount:t})},addCircuit:function(e){return Ue.post("".concat(dt,"/circuit"),Object(i.a)({},e))},redeemCircuit:function(e){return Ue.post("".concat(dt,"/redeem"),Object(i.a)({},e))},recoverPassword:function(e){return Ue.post("".concat(dt,"/recover"),{email:e})}},jt={customers:null,customer:null},bt=Object(a.createContext)(jt),mt=function(e){var t=e.children,c=Object(a.useReducer)(ot,jt),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e),d=o.success,u=o.alert,j=function(e){ut.getCustomer(e).then((function(e){var t=e.data.customer;r({type:re,payload:t})}))};return Object(Ge.jsx)(bt.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getCustomer:j,getAllCustomers:function(e){r({type:ne,payload:null}),ut.getAllCustomers(e).then((function(e){var t=e.data.customers;r({type:ne,payload:t})}))},getCustomersByQuery:function(e){ut.getCustomersByQuery(e).then((function(e){var t=e.data.customers;r({type:ne,payload:t})}))},extenderAcceso:function(e,t,c,a,n,s){ut.extenderAcceso(e,t,c,a,n,s).then((function(){d("\xa1Acceso agregado!"),j(e),Ye()}))},clearCustomer:function(){r({type:re,payload:null})},revokeAccess:function(e,t){ut.revokeAccess(e).then((function(e){j(t),d("\xa1Acceso eliminado!"),Ye()}))},removeClasses:function(e,t){ut.removeClasses(e,t).then((function(){j(e),d("\xa1Clases Restadas!"),Ye()}))},createCustomer:function(){r({type:se})},postCustomer:function(e){r({type:_});var t=function(e){var t=e.data;d("Cliente guardado con \xe9xito."),r({type:C}),Object(it.c)("/myadmin/customer/".concat(t.customer.customer_id))},c=function(e){u(e),r({type:C})};isNaN(e.customer_id)?ut.postCustomer(e).then(t).catch(c):ut.putCustomer(e).then(t).catch(c)},setPropiedadCustomer:function(e,t){r({type:ae,payload:{key:e,value:t}})},redeemCircuit:function(e,t,c,a,n){ut.redeemCircuit({available_circuit_id:t,circuit_id:a,date:c,instructor_id:n}).then((function(){Ye(),j(e),d("Circuito agendado con \xe9xito")}))}}),children:t})},Ot=function(e,t){var c=t.type,a=t.payload;switch(c){case I:return Object(i.a)(Object(i.a)({},e),{},{presenciales:a});default:return Object(i.a)({},e)}},ht="/class_packages",pt={getPaquetes:function(){return Ue.get(ht)},getPaquete:function(e){return Ue.get("".concat(ht,"/").concat(e))},getOnline:function(){return Ue.get("".concat(ht,"/online/all"))},getPaqueteAdmin:function(e){return Ue.get("".concat(ht,"/admin/").concat(e))},getAllPaquetes:function(){return Ue.get("".concat(ht,"/admin/all"))},getOnlineHome:function(){return Ue.get("".concat(ht,"/online/home"))},getPresenciales:function(){return Ue.get("".concat(ht,"/presenciales/all"))},getPresencialesHome:function(){return Ue.get("".concat(ht,"/presenciales/home"))},getAsistentesEspecial:function(e){return Ue.get("".concat(ht,"/especiales/").concat(e,"/asistentes"))},getEventosEspecialesHome:function(){return Ue.get("".concat(ht,"/especiales/home"))},getEventosAllEspeciales:function(){return Ue.get("".concat(ht,"/especiales/all"))},getEventosEspecialesAdmin:function(){return Ue.get("".concat(ht,"/admin/especiales"))},getPaquetesEspeciales:function(){return Ue.get("".concat(ht,"/especiales/all"))},postPaquete:function(e){return Ue.post(ht,Object(i.a)({},e))},putPaquete:function(e){return Ue.put(ht,Object(i.a)({},e))},deletePaquete:function(e){return Ue.delete("".concat(ht,"/").concat(e))}},xt={presenciales:null,coaches:null},ft=Object(a.createContext)(xt),vt=function(e){var t=e.children,c=Object(a.useReducer)(Ot,xt),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e).success,d=function(){pt.getPresencialesHome().then((function(e){var t=e.data.paquetes;r({type:I,payload:t})}))};return Object(Ge.jsx)(ft.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getPresenciales:d,deleteFromHome:function(e,t){pt.deleteFromHome(e,t).then((function(){o("\xa1Paquete eliminado del home!"),d(),Ye()}))},addToHome:function(e,t){pt.addToHome(e,t).then((function(){o("\xa1Paquete agregado al home con \xe9xito!"),d(),Ye()}))}}),children:t})},gt={description:"",address:""},Nt=function(e,t){var c=t.type,a=t.payload;switch(c){case F:return Object(i.a)(Object(i.a)({},e),{},{locations:a});case B:return Object(i.a)(Object(i.a)({},e),{},{location:a});case G:var n=Object(i.a)({},e.location),s=a.key,r=a.value;return n[s]=r,Object(i.a)(Object(i.a)({},e),{},{location:n});case V:return Object(i.a)(Object(i.a)({},e),{},{location:gt});default:return Object(i.a)({},e)}},yt="/locations",Ct={getLocations:function(){return Ue.get(yt)},postLocation:function(e){return Ue.post(yt,Object(i.a)({},e))},putLocation:function(e){return Ue.put(yt,Object(i.a)({},e))},deleteLocation:function(e){return Ue.delete("".concat(yt,"/").concat(e))}},_t={locations:null},Et=Object(a.createContext)(_t),kt=function(e){var t=e.children,c=Object(a.useReducer)(Nt,_t),n=Object(l.a)(c,2),s=n[0],r=n[1],o=function(){Ct.getLocations().then((function(e){var t=e.data.locations;r({type:F,payload:t})}))};return Object(Ge.jsx)(Et.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{setLocation:function(e){r({type:B,payload:e})},getLocations:o,postLocation:function(e){isNaN(e.location_id)?Ct.postLocation(e).then((function(){o()})):Ct.putLocation(e).then((function(){o()}))},createLocation:function(){r({type:V})},deleteLocation:function(e){Ct.deleteLocation(e).then((function(){o()}))},setPropiedadLocation:function(e,t){r({type:G,payload:{key:e,value:t}})}}),children:t})},At=function(e,t){var c=t.type,a=t.payload;switch(c){case W:return Object(i.a)(Object(i.a)({},e),{},{purchases:a});case J:return Object(i.a)(Object(i.a)({},e),{},{purchase:a});default:return Object(i.a)({},e)}},wt="/purchases",Dt={getPurchases:function(e,t,c){return Ue.get("".concat(wt,"/admin/all?start_date=").concat(e,"&end_date=").concat(t,"&").concat(Re(c)))},getPurchase:function(e){return Ue.get("".concat(wt,"/").concat(e))},cancelPurchase:function(e,t){return Ue.post("".concat(wt,"/cancel/").concat(e),{reason:t})}},St={purchases:null,purchase:null},Pt=Object(a.createContext)(St),Mt=function(e){var t=e.children,c=Object(a.useReducer)(At,St),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e).success;return Object(Ge.jsx)(Pt.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getPurchase:function(e){Dt.getPurchase(e).then((function(e){var t=e.data.purchase;r({type:J,payload:t})}))},getPurchases:function(e,t,c){Dt.getPurchases(e,t,c).then((function(e){var t=e.data.purchases;r({type:W,payload:t})}))},cancelPurchase:function(e){Dt.cancelPurchase(e).then((function(){o("Compra revocada."),Ye()}))}}),children:t})},It={package_class_id:"nuevo",title:"",short_description:"",description:"",first_check:"",price:"",sale_price:null,is_special_event:!1,package_days:null,customer_limit:null,available:!0},Rt=function(e,t){var c=t.type,a=t.payload;switch(c){case S:return Object(i.a)(Object(i.a)({},e),{},{paquetes:a});case z:return Object(i.a)(Object(i.a)({},e),{},{paquete:a});case P:var n=a.key,s=a.value,r=Object(i.a)({},e.paquete);return r[n]=s,Object(i.a)(Object(i.a)({},e),{},{paquete:r});case M:return Object(i.a)(Object(i.a)({},e),{},{paquete:It});case T:return Object(i.a)(Object(i.a)({},e),{},{asistentes:a});default:return Object(i.a)({},e)}},Tt={paquetes:null,paquete:null,spinner:!1},Yt=Object(a.createContext)(Tt),qt=function(e){var t=e.children,c=Object(a.useReducer)(Rt,Tt),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e),d=o.success,u=o.alert,j=function(){pt.getAllPaquetes().then((function(e){var t=e.data.packages;r({type:S,payload:t})}))};return Object(Ge.jsx)(Yt.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getPaquetes:function(){pt.getPaquetes().then((function(e){var t=e.data.packages;r({type:S,payload:t})}))},postPaquete:function(e){r({type:_});var t=function(){d("\xa1Paquete guardado con \xe9xito!"),Object(it.c)("/myadmin/paquetes"),r({type:C})},c=function(e){u(e),r({type:C})};isNaN(e.class_package_id)?pt.postPaquete(e).then(t).catch(c):pt.putPaquete(e).then(t).catch(c)},deletePaquete:function(e){pt.deletePaquete(e).then((function(){d("\xa1Paquete eliminado con \xe9xito!"),j(),Ye()}))},createPaquete:function(){r({type:M})},getAllPaquetes:j,getPaqueteAdmin:function(e){pt.getPaqueteAdmin(e).then((function(e){var t=e.data.class_package;r({type:z,payload:t})}))},getPaquetesOnline:function(){pt.getOnline().then((function(e){var t=e.data.packages;r({type:S,payload:t})}))},setPropiedadPaquete:function(e,t){r({type:P,payload:{key:e,value:t}})},getAsistentesEspecial:function(e){pt.getAsistentesEspecial(e).then((function(e){var t=e.data,c=t.class_package,a=t.asistentes;r({type:T,payload:a}),r({type:z,payload:c})}))},getPaquetesEspecialesAdmin:function(){pt.getEventosEspecialesAdmin().then((function(e){var t=e.data.packages;r({type:S,payload:t})}))}}),children:t})},Lt=c(27);c(89);Lt.a.apps.length<1&&Lt.a.initializeApp({apiKey:"AIzaSyDszgNzL4VO2LxkoVUfmBZICt86_6B85NM",authDomain:"citius-web.firebaseapp.com",projectId:"citius-web",storageBucket:"citius-web.appspot.com",messagingSenderId:"1036579598962",appId:"1:1036579598962:web:f836d6a2e184b365a6c8eb"});var Ht=function(){return Ut.currentUser.getIdToken(!0)},Ut=Lt.a.auth(),Ft={signIn:function(e,t){return Lt.a.auth().signInWithEmailAndPassword(e,t).then((function(e){return Ht().then((function(t){return Ue.defaults.headers.common.Authorization=t,e}))}))},userLoggedIn:function(e,t){return Ut.onAuthStateChanged((function(c){c?Ht().then((function(t){Ue.defaults.headers.common.Authorization=t,e&&e(c)})):t()}))},signOut:function(){return Ut.signOut()},signUp:function(e,t){return Ut.createUserWithEmailAndPassword(e,t)},recoverPassword:function(e){return Ut.sendPasswordResetEmail(e)},getToken:function(){return Ut.currentUser.getIdToken(!0)},verifyEmail:function(){return Ut.currentUser.sendEmailVerification()},updateEmail:function(e){return Ut.currentUser.updateEmail(e)},setToken:function(e){return Ue.defaults.headers.common.Authorization=e}},Bt=Ft,Vt=c(32),Gt=function(e,t){var c=t.type,a=t.payload;switch(c){case u:return Object(i.a)(Object(i.a)({},e),{},{user:a,spinner:!1});case j:return Object(i.a)(Object(i.a)({},e),{},{user:null});case _:return Object(i.a)(Object(i.a)({},e),{},{spinner:!0});case C:return Object(i.a)(Object(i.a)({},e),{},{spinner:!1});case"USER_CREATED":return Object(i.a)(Object(i.a)({},e),{},{created:!0});case N:return Object(i.a)(Object(i.a)({},e),{},{error:a});case b:var n=a.key,s=a.value,r=Object(i.a)({},e.user);return r[n]=s,Object(i.a)(Object(i.a)({},e),{},{user:r});case"SET_PROPIEDAD_LOGIN":var l=a.key,o=a.value;return Object(i.a)(Object(i.a)({},e),{},Object(Vt.a)({},l,o));default:return Object(i.a)({},e)}},zt="/users",$t=function(){return Ue.get("".concat(zt,"/admin/all"))},Wt=function(){return Ue.get(zt)},Jt=function(e,t){return Ue.post(zt,{email:e,role:t})},Qt=function(e,t){return Ue.put(zt,{user_id:e,role:t})},Xt=function(e){return Ue.delete("".concat(zt,"/").concat(e))},Kt={user:null,correo:null,password:null,telefono:null,cuenta:null,direccion:null,spinner:!1},Zt=Object(a.createContext)(Kt),ec=function(e){var t=e.children,c=Object(a.useReducer)(Gt,Kt),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e),d=o.success,O=o.alert;return Object(Ge.jsx)(Zt.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{signIn:function(e,t){r({type:_}),Bt.signIn(e,t).then((function(e){e?Wt().then((function(e){var t=e.data.user;r({type:u,payload:t})})).catch((function(e){if(e.response&&400!==e.response.status)return Bt.signOut(),O(e.toString());O(e),Bt.signOut()})):(O("Ya tienes cuenta con nosotros pero la contrase\xf1a es incorrecta. Por favor, intenta de nuevo"),r({type:C}),Bt.signOut())})).catch((function(e){"auth/user-not-found"===e.code&&O("Lo sentimos. No encontramos una cuenta con ese correo. \xa1Reg\xedstrate!"),"auth/wrong-password"===e.code?O("La contrase\xf1a es incorrecta. Por favor, intenta de nuevo"):O(e.toString()),r({type:C})}))},signOut:function(){Bt.signOut().then((function(){r({type:j}),Object(it.c)("/entrar")})).catch((function(e){O(e)}))},getUsuario:function(){Wt().then((function(e){var t=e.data.user;r({type:u,payload:t})}))},cancelEdit:function(){r({type:m})},verifyEmail:function(){Bt.verifyEmail().then((function(){d("Te enviamos un correo para confirmar tu direcci\xf3n")}))},userLoggedIn:function(){r({type:_}),Bt.userLoggedIn((function(e){Wt().then((function(e){var t=e.data.user;r({type:u,payload:t}),r({type:C})})).catch((function(e){O(e),Bt.signOut()}))}),(function(e){e&&(O(e),Bt.signOut(),Object(it.c)("/entrar")),r({type:C})}))},updateUsuario:function(e){Qt(e).then((function(){r({type:m}),d("Perfil actualizado con \xe9xito.")})).catch((function(e){O(e)}))},editarUsuario:function(){r({type:"EDITAR_USUARIO"})},recoverPassword:function(e){Bt.recoverPassword(e).then((function(){d("Te hemos enviado un correo para reestablecer tu contrase\xf1a.")}))},setPropiedadUser:function(e,t){"idAdjunto"===e?(r({type:b,payload:{key:"file",value:t}}),t||r({type:b,payload:{key:e,value:t}})):("telefono"===e&&(t=String(t).replace(/\D/g,""),t=String(t).substring(0,10)),r({type:b,payload:{key:e,value:t}}))}}),children:t})},tc={class_type_id:"nueva",name:"",description:"",color:"",icon:""},cc=function(e,t){var c=t.type,a=t.payload;switch(c){case Oe:return Object(i.a)(Object(i.a)({},e),{},{class_types:a});case he:return Object(i.a)(Object(i.a)({},e),{},{class_type:a});case xe:return Object(i.a)(Object(i.a)({},e),{},{class_type:tc});case pe:var n=Object(i.a)({},e.class_type),s=a.key,r=a.value;return n[s]=r,Object(i.a)(Object(i.a)({},e),{},{class_type:n});default:return Object(i.a)({},e)}},ac="/class_types",nc={getClassTypes:function(){return Ue.get(ac)},postClassType:function(e){return Ue.post(ac,Object(i.a)({},e))},putClassType:function(e){return Ue.put(ac,Object(i.a)({},e))},deleteClassType:function(e){return Ue.delete("".concat(ac,"/").concat(e))}},sc=nc,rc={class_types:null,class_type:null},ic=Object(a.createContext)(rc),lc=function(e){var t=e.children,c=Object(a.useReducer)(cc,rc),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e).success,d=function(){sc.getClassTypes().then((function(e){var t=e.data.class_types;r({type:Oe,payload:t})}))};return Object(Ge.jsx)(ic.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getClassType:function(e){sc.getClassTypes().then((function(t){var c=t.data.class_types.find((function(t){return parseInt(t.class_type_id)===parseInt(e)}));r({type:he,payload:c})}))},getClassTypes:d,postClassType:function(e){isNaN(e.class_type_id)?sc.postClassType(e).then((function(){o("\xa1Tipo de clase guardado!"),d(),Ye()})):sc.putClassType(e).then((function(){o("\xa1Tipo de clase guardado!"),d(),Ye()}))},createClassType:function(){r({type:xe})},deleteClassType:function(e){sc.deleteClassType(e).then((function(){o("Tipo de clase eliminado.")}))},setPropiedadClassType:function(e,t){r({type:pe,payload:{key:e,value:t}})}}),children:t})},oc={class_category_id:"nueva",name:"",handle:"",description:"",available:!0},dc=function(e,t){var c=t.type,a=t.payload;switch(c){case K:return Object(i.a)(Object(i.a)({},e),{},{class_categories:a});case Z:return Object(i.a)(Object(i.a)({},e),{},{class_category:a});case ee:return Object(i.a)(Object(i.a)({},e),{},{class_category:oc});case te:var n=a.key,s=a.value,r=Object(i.a)({},e.class_category);return r[n]=s,Object(i.a)(Object(i.a)({},e),{},{class_category:r});default:return Object(i.a)({},e)}},uc="/class_categories",jc={getClassCategories:function(){return Ue.get(uc)},getClassCategory:function(e){return Ue.get("".concat(uc,"/").concat(e))},getAvailableClassCategories:function(){return Ue.get("".concat(uc,"/available"))},postClassCategory:function(e){return Ue.post(uc,Object(i.a)({},e))},putClassCategory:function(e){return Ue.put(uc,Object(i.a)({},e))},deleteClassCategory:function(e){return Ue.delete("".concat(uc,"/").concat(e))}},bc=jc,mc={class_categories:null,class_category:null},Oc=Object(a.createContext)(mc),hc=function(e){var t=e.children,c=Object(a.useReducer)(dc,mc),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e).success,d=function(){bc.getClassCategories().then((function(e){var t=e.data.class_categories;r({type:K,payload:t})}))};return Object(Ge.jsx)(Oc.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getClassCategories:d,getClassCategory:function(e){bc.getClassCategory(e).then((function(e){var t=e.data.class_category;r({type:Z,payload:t})}))},getAvailableClassCategories:function(){bc.getAvailableClassCategories().then((function(e){var t=e.data.class_categories;r({type:K,payload:t})}))},postClassCategory:function(e){if(isNaN(e.class_category_id))if(e.file&&null!==e.file){var t=new FormData;t.append("adjunto",e.file),tt.postAdjunto(t).then((function(t){var c=t.data.idAdjunto;e.idAdjunto=c,bc.postClassCategory(e).then((function(){d(),o("\xa1Categor\xeda guardada con \xe9xito!"),Object(it.c)("/myadmin/categorias")}))}))}else bc.postClassCategory(e).then((function(){d(),o("\xa1Categor\xeda guardada con \xe9xito!"),Object(it.c)("/myadmin/categorias")}));else if(e.file&&null!==e.file){var c=new FormData;c.append("adjunto",e.file),tt.postAdjunto(c).then((function(t){var c=t.data.idAdjunto;e.idAdjunto=c,bc.putClassCategory(e).then((function(){d(),o("\xa1Categor\xeda guardada con \xe9xito!"),Object(it.c)("/myadmin/categorias")}))}))}else bc.putClassCategory(e).then((function(){d(),o("\xa1Categor\xeda guardada con \xe9xito!"),Object(it.c)("/myadmin/categorias")}))},createClassCategory:function(){r({type:ee})},setPropiedadCategory:function(e,t){r({type:te,payload:{key:e,value:t}})},deleteClassCategory:function(e){bc.deleteClassCategory(e).then((function(){o("\xa1Categoria eliminada con \xe9xito!"),Object(it.c)("../"),d()}))}}),children:t})},pc=function(e,t){var c=t.type,a=t.payload;switch(c){case z:return Object(i.a)(Object(i.a)({},e),{},{paquete:a});case fe:return Object(i.a)(Object(i.a)({},e),{},{descuento:a,spinnerDescuento:!1});case _:return Object(i.a)(Object(i.a)({},e),{},{spinner:!0});case C:return Object(i.a)(Object(i.a)({},e),{},{spinner:!1});case ge:return Object(i.a)(Object(i.a)({},e),{},{spinnerDescuento:!0});case ve:return Object(i.a)(Object(i.a)({},e),{},{spinnerDescuento:!1});default:return Object(i.a)({},e)}},xc="/checkout",fc={attempt:function(e,t){return Ue.post("".concat(xc,"/attempt"),{class_package_id:e,discountCode:t})},postCheckout:function(e,t,c){return Ue.post(xc,{class_package_id:e,customer_id:t,discountCode:c})},postPayPal:function(e,t){return Ue.post("".concat(xc,"/paypal"),{packageClassId:e,discountCode:t})},capturePayPal:function(e){var t=e.orderID;return Ue.post("".concat(xc,"/capture"),{orderID:t})}},vc=fc,gc="/discounts",Nc={getSingleDescuento:function(e){return Ue.get("".concat(gc,"/").concat(e))},validarDescuento:function(e){return Ue.get("".concat(gc,"/code/").concat(e))},getDescuentosAdmin:function(){return Ue.get("".concat(gc,"/admin/all"))},postDescuento:function(e){return Ue.post(gc,Object(i.a)({},e))},putDescuento:function(e){return Ue.put(gc,Object(i.a)({},e))},deleteDescuento:function(e){return Ue.delete("".concat(gc,"/").concat(e))}},yc=Nc,Cc={paquete:null},_c=Object(a.createContext)(Cc),Ec=function(e){var t=e.children,c=Object(a.useReducer)(pc,Cc),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e),d=o.alert,u=o.success;return Object(Ge.jsx)(_c.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getPaquete:function(e){pt.getPaquete(e).then((function(e){var t=e.data.class_package;r({type:z,payload:t})})).catch((function(e){e.response&&404===e.response.status&&d("Lo sentimos, no encontramos el paquete que quieres comprar."),d(e)}))},setPaquete:function(e){r({type:z,payload:e})},createOrder:function(e,t,c){r({type:_}),vc.postCheckout(e.package_id,t.payment_source_id,c).then((function(e){var t=e.data.payment_id;u("\xa1Pago exitoso!"),Object(it.c)("/gracias/".concat(t)),r({type:C})})).catch((function(e){if(r({type:C}),e.response){var t=e.response.data;if(t&&t.details&&t.details[0]){if("conekta.errors.processing.charge.card_payment.suspicious_behaviour"===t.details[0].code)return d("Lo sentimos, nuestro procesador de tarjetas ha rechazado el pago. Comun\xedcate con nosotros en @vibeandride.mx.");if(t.details[0].code.includes("formatted"))return d("El formato de la tarjeta no es v\xe1lido, revisa los datos que ingresaste por favor.")}if(412===e.response.status)return d("Lo sentimos, se ha alcanzado el l\xedmite de personas para este paquete.");if(409===e.response.status)return d("Lo sentimos, ya has alcanzado el l\xedmite de compras de este paquete.")}}))},showSpinner:function(){r({type:_})},hideSpinner:function(){r({type:C})},setPayPal:function(e,t){""===document.getElementById("paypal-button").innerHTML&&window.paypal.Button.render({env:"production",payment:function(c,a){return vc.postPayPal(e,t).then((function(e){return e.data.orderID})).catch((function(e){if(e.response){if(412===e.response.status)return d("Lo sentimos, se ha alcanzado el l\xedmite de personas para este paquete.");if(409===e.response.status)return d("Lo sentimos, ya has alcanzado el l\xedmite de compras de este paquete.")}}))},onApprove:function(e,t){return vc.capturePayPal(e).then((function(e){var t=e.data.payment_id;u("\xa1Pago exitoso!"),Object(it.c)("/gracias/".concat(t))}))}},"#paypal-button")},setDescuento:function(e){r({type:fe,payload:e})},validarDescuento:function(e){r({type:ge}),yc.validarDescuento(e).then((function(e){var t=e.data,c=t.descuento,a=t.error;a&&d(a.message),r({type:fe,payload:c})})).catch((function(e){e.response&&412===e.response.status&&d("Lo sentimos, ya has agotado este descuento."),d("Lo sentimos, ese descuento no es v\xe1lido."),r({type:ve})}))}}),children:t})},kc={discount_id:"nuevo",title:"",code:"",description:"",amount:"",is_percent:!0,start_date:"",expiration_date:"",limit_per_customer:"",available:!0},Ac=function(e,t){var c=t.type,a=t.payload;switch(c){case ye:return Object(i.a)(Object(i.a)({},e),{},{descuentos:a});case fe:return Object(i.a)(Object(i.a)({},e),{},{descuento:a});case Ce:var n=a.key,s=a.value,r=Object(i.a)({},e.descuento);return r[n]=s,Object(i.a)(Object(i.a)({},e),{},{descuento:r});case Ne:return Object(i.a)(Object(i.a)({},e),{},{descuento:kc});default:return Object(i.a)({},e)}},wc={descuentos:null,descuento:null},Dc=Object(a.createContext)(wc),Sc=function(e){var t=e.children,c=Object(a.useContext)($e),n=c.alert,s=c.success,r=Object(a.useReducer)(Ac,wc),o=Object(l.a)(r,2),d=o[0],u=o[1],j=function(){yc.getDescuentosAdmin().then((function(e){var t=e.data.discounts;u({type:ye,payload:t})}))};return Object(Ge.jsx)(Dc.Provider,{value:Object(i.a)(Object(i.a)({},d),{},{getDescuento:function(e){yc.getDescuentosAdmin().then((function(t){var c=t.data.discounts,a=c.findIndex((function(t){return parseInt(t.discount_id)===parseInt(e)}));if(-1!==a)return u({type:fe,payload:c[a]});n("Descuento no encontrado.")}))},setDescuento:function(e){u({type:fe,payload:e})},postDescuento:function(e){isNaN(e.discount_id)?yc.postDescuento(e).then((function(){s("\xa1Descuento guardado!"),j(),Ye()})):yc.putDescuento(e).then((function(){s("\xa1Descuento guardado!"),j(),Ye()}))},deleteDescuento:function(e){yc.deleteDescuento(e).then((function(){s("\xa1Descuento eliminado!"),j(),Ye()}))},createDescuento:function(){u({type:Ne})},getDescuentosAdmin:j,setPropiedadDescuento:function(e,t){u({type:Ce,payload:{key:e,value:t}})}}),children:t})},Pc=function(e,t){var c=t.type,a=t.payload;switch(c){case ue:return Object(i.a)(Object(i.a)({},e),a);case S:return Object(i.a)(Object(i.a)({},e),{},{paquetes:a});case je:case T:return Object(i.a)(Object(i.a)({},e),a);case ie:return Object(i.a)(Object(i.a)({},e),{},{instructores:a});case me:return Object(i.a)(Object(i.a)({},e),a);default:return Object(i.a)({},e)}},Mc="/analytics",Ic={getInscritos:function(){return Ue.get("".concat(Mc,"/customers"))},getPaquetes:function(){return Ue.get("".concat(Mc,"/purchases"))},getIngresos:function(){return Ue.get("".concat(Mc,"/income"))},getInstructores:function(e,t){return Ue.get("".concat(Mc,"/instructors?start_date=").concat(e,"&end_date=").concat(t))},getVideos:function(){return Ue.get("".concat(Mc,"/videos"))},getMensuales:function(){return Ue.get("".concat(Mc,"/monthly"))},getReservaciones:function(){return Ue.get("".concat(Mc,"/reservations"))}},Rc=Ic,Tc={alumnas:null,paquetes:null,ingresos:null},Yc=Object(a.createContext)(Tc),qc=function(e){var t=e.children,c=Object(a.useReducer)(Pc,Tc),n=Object(l.a)(c,2),s=n[0],r=n[1];return Object(Ge.jsx)(Yc.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getPaquetes:function(){Rc.getPaquetes().then((function(e){r({type:S,payload:e.data.purchases})}))},getIngresos:function(){Rc.getIngresos().then((function(e){r({type:je,payload:e.data})}))},getInscritos:function(){Rc.getInscritos().then((function(e){r({type:ue,payload:e.data})}))},getMensuales:function(){Rc.getMensuales().then((function(e){var t=e.data,c=t.purchases,a=t.reservations;r({type:me,payload:{purchases:c,reservations:a}})}))},getInstructores:function(e,t){Rc.getInstructores(e,t).then((function(e){var t=e.data.result;r({type:ie,payload:t})}))},getReservaciones:function(){Rc.getReservaciones().then((function(e){r({type:T,payload:{reservaciones:e.data.reservations,horas:e.data.capacity}})}))},clearInstructores:function(){r({type:ie,payload:null})}}),children:t})},Lc=function(e,t){var c=t.type,a=t.payload;switch(c){case _:return Object(i.a)(Object(i.a)({},e),{},{spinner:!0});case C:return Object(i.a)(Object(i.a)({},e),{},{spinner:!1});case $:return Object(i.a)(Object(i.a)({},e),{},{metodos:a});default:return Object(i.a)({},e)}},Hc="/metodosPago",Uc={getMetodos:function(){return Ue.get(Hc)},deleteMetodoPago:function(e){return Ue.delete("".concat(Hc,"/").concat(e))},postMetodoPago:function(e,t,c,a){return Ue.post(Hc,{token_id:e,card_type:t,last_digits:c,saveCard:a})}},Fc=Uc,Bc={metodos:null,spinner:!1},Vc=Object(a.createContext)(Bc),Gc=function(e){var t=e.children,c=Object(a.useReducer)(Lc,Bc),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e),d=o.success,u=o.alert,j=function(){Fc.getMetodos().then((function(e){var t=e.data.metodos_pago;r({type:$,payload:t})}))},b=function(e,t,c,a,n,s){var r={card:{number:t,name:e,exp_year:c.substring(5),exp_month:c.substring(0,2),cvc:a}};window.Conekta.Token.create(r,n,s)};return Object(Ge.jsx)(Vc.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getMetodos:j,createToken:b,postMetodoPago:function(e,t,c,a){r({type:_}),b(e,t,c,a,(function(e){var c=t.substring(15),a="3"===t[0]?"amex":"4"===t[0]?"visa":"mastercard";Fc.postMetodoPago(e.id,a,c,!0).then((function(){j(),r({type:C}),d("\xa1M\xe9todo de Pago guardado con \xe9xito!"),Ye()})).catch((function(e){r({type:C}),u(e)}))}),(function(e){"object"===typeof e&&(e=e.toString()),r({type:C}),u(e)}))},deleteMetodoPago:function(e){Fc.deleteMetodoPago(e).then((function(){j(),d("Metodo de Pago eliminado con \xe9xito."),Ye()}))}}),children:t})},zc=function(e,t){var c=t.type,a=t.payload;switch(c){case T:return Object(i.a)(Object(i.a)({},e),{},{reservations:a});default:return Object(i.a)({},e)}},$c="/class_reservations",Wc={getMyReservations:function(){return Ue.get($c)},postReservation:function(e){return Ue.post($c,Object(i.a)({},e))},putReservacion:function(e){return Ue.put($c,Object(i.a)({},e))},postAttend:function(e,t){return Ue.post("".concat($c,"/attend/").concat(e),{attend:t})},cancelReservation:function(e){return Ue.delete("".concat($c,"/admin/").concat(e))}},Jc=Wc,Qc={reservations:null,reservation:null,updated:!1},Xc=Object(a.createContext)(Qc),Kc=function(e){var t=e.children,c=Object(a.useReducer)(zc,Qc),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e).success,d=Object(a.useContext)(Qe).getAsistentes;return Object(Ge.jsx)(Xc.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{postAttend:function(e,t,c){Jc.postAttend(e,t).then((function(){o(t?"Asistencia registrada.":"Asistencia cancelada"),d(c)}))},postReservacion:function(e,t){(e.class_reservation_id?Jc.putReservacion(e):Jc.postReservacion(e)).then((function(){Ye(),o("\xa1Reservaci\xf3n guardada con \xe9xito!"),"function"===typeof t&&t()})).catch((function(e){if(e.response){if(412===e.response.status)return alert("Lo sentimos, ya no tienes cr\xe9ditos vigentes para clases presenciales.");if(409===e.response.status)return alert("Ya has reservado esta clase, refresca la p\xe1gina para verlo reflejado.")}"function"===typeof t&&t()}))},updateGuestName:function(e,t){Jc.updateGuestName(e,t).then((function(){o("\xa1Nombre actualizado!")}))},cancelReservacion:function(e,t){Jc.cancelReservacion(e).then((function(){Ye(),o("\xa1Reservaci\xf3n cancelada con \xe9xito!"),"function"===typeof t&&t()})).catch((function(e){e.response&&412===e.response.status&&(Ye(),alert("Lo sentimos, para cancelar tu clase necesitas al menos 6 horas de anticipaci\xf3n.")),"function"===typeof t&&t()}))},getMyReservations:function(){Jc.getMyReservations().then((function(e){var t=e.data.reservations;r({type:T,payload:t})}))},eliminarReservacion:function(e,t){Jc.cancelReservation(e).then((function(){o("\xa1Reservacion eliminada!"),"function"===typeof t&&t(),Ye()}))}}),children:t})},Zc=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(a.useContext)(Zt),u=d.spinner,j=d.signIn,b=Object(a.useState)(!1),m=Object(l.a)(b,2),O=m[0],h=m[1];return Object(Ge.jsx)("div",{id:"login-card",className:"card no-scale text-left shadow p-4",children:Object(Ge.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(c,i)},children:[Object(Ge.jsx)("label",{children:"Correo Electr\xf3nico"}),Object(Ge.jsx)("input",{type:"email",className:"form-control mb-3",value:c,onChange:function(e){return n(e.target.value)}}),Object(Ge.jsxs)("label",{children:["Contrase\xf1a"," ",Object(Ge.jsx)("button",{className:"btn btn-link text-muted text-left text-small py-0 mb-1",onClick:function(e){e.preventDefault(),h(!O)},children:Object(Ge.jsx)("span",{className:"text-montserrat text-small text-auto",children:O?"Ocultar":"Mostrar"})})]}),Object(Ge.jsx)("input",{type:O?"text":"password",className:"form-control mb-3",value:i,onChange:function(e){return o(e.target.value)}}),Object(Ge.jsx)("button",{type:"submit",className:"btn btn-accent",value:"Entrar",children:u?Object(Ge.jsx)("div",{className:"spinner-border"}):"Entrar"})]})})},ea=function(){var e=Object(a.useContext)(Zt).user;return Object(a.useEffect)((function(){null===e||window.location.href.includes("myadmin")||Object(it.c)("/myadmin")}),[e]),Object(Ge.jsx)("div",{className:"container-fluid bg-light",children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6 bg-black vh-100 px-0 hide-mobile bg-dark",children:Object(Ge.jsx)("div",{className:"bg-vertical"})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6 vh-100",children:Object(Ge.jsx)("div",{className:"row align-items-center vh-100",children:Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)("h1",{className:"text-center my-4",children:"Administrador CITIUS"}),Object(Ge.jsx)(Zc,{})]})})})]})})},ta=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useContext)(Zt),r=s.spinner,i=s.recoverPassword;return Object(Ge.jsx)("div",{className:"container-fluid",children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6 bg-black vh-100 px-0 hide-mobile",children:Object(Ge.jsx)("img",{className:"mw-100 w-100 vh-100 login-image",alt:"login fondo"})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6 vh-100",children:Object(Ge.jsx)("div",{className:"row align-items-center vh-100",children:Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)("h1",{className:"text-center my-4",children:"\xa1Recupera tu cuenta!"}),Object(Ge.jsxs)("div",{id:"login-card",className:"card no-scale text-left shadow p-4",children:[Object(Ge.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(c)},children:[Object(Ge.jsx)("label",{children:"Correo Electr\xf3nico"}),Object(Ge.jsx)("input",{type:"email",className:"form-control mb-3",value:c,onChange:function(e){return n(e.target.value)}}),Object(Ge.jsx)("button",{type:"submit",className:"btn btn-primary",value:"Entrar",children:r?Object(Ge.jsx)("div",{className:"spinner-border"}):"Recuperar"})]}),Object(Ge.jsxs)("div",{className:"container-fluid px-0 mt-4",children:["\xbfYa tienes cuenta? ",Object(Ge.jsx)(it.a,{to:"/entrar",children:"Inicia Sesi\xf3n"})]})]})]})})})]})})},ca=function(e){var t=e.setDisplay,c=e.name,a=e.handle;return Object(Ge.jsx)("li",{className:"nav-item mobile",onClick:function(){t(!1),Object(it.c)(a)},children:Object(Ge.jsxs)("div",{className:"row align-items-center",children:[Object(Ge.jsx)("div",{className:"col-10",children:c}),Object(Ge.jsx)("div",{className:"col-2 text-end",children:Object(Ge.jsx)("i",{className:"fa fa-chevron-right"})})]})})},aa=c.p+"static/media/logo_blanco.7a9c4099.png",na=function(e){var t=e.signOut,c=(e.user,Object(a.useState)(!1)),n=Object(l.a)(c,2),s=n[0],r=n[1];return Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)("nav",{className:"panel-mobile-menu navbar navbar-expand-lg navbar-dark bg-dark row py-2",children:Object(Ge.jsxs)("div",{className:"container-fluid pl-0",children:[Object(Ge.jsx)(it.a,{className:"navbar-brand",to:"/myadmin",children:Object(Ge.jsx)("img",{src:aa,className:"logo-navbar"})}),Object(Ge.jsx)("button",{className:"navbar-toggler",type:"button",onClick:function(){return r(!s)},children:Object(Ge.jsx)("span",{className:"navbar-toggler-icon"})})]})}),Object(Ge.jsx)("div",{className:"bg-dark w-100 vh-100 drawer-menu",style:{position:"absolute",left:s?0:"-100vw"},children:Object(Ge.jsxs)("ul",{className:"navbar-nav pt-4 px-3",children:[Object(Ge.jsx)("h3",{className:"ps-2 text-white border-bottom pb-3",children:"Men\xfa"}),qe.map((function(e){var t=e.name,c=e.handle;return Object(Ge.jsx)(ca,{name:t,handle:c,setDisplay:r},t)})),Object(Ge.jsx)("h3",{className:"ps-2 mt-4 text-white border-bottom pb-3",children:"Mi Cuenta"}),Le.map((function(e){var t=e.name,c=e.handle;return Object(Ge.jsx)(ca,{name:t,handle:c,setDisplay:r},t)})),Object(Ge.jsx)("li",{className:"nav-item mobile mt-5",children:Object(Ge.jsxs)("button",{className:"btn btn-link nav-link",onClick:t,children:[Object(Ge.jsx)("i",{className:"fa fa-sign-out-alt fa-flip-horizontal ps-2"})," ","Salir"]})})]})})]})},sa=c(19),ra=function(e){var t=e.customer,c=Object(a.useContext)(Zt).user;return Object(Ge.jsxs)("div",{className:"row p-2 border-bottom small bg-white mx-0 align-items-center hover-light",children:[Object(Ge.jsx)("div",{className:"col",children:Object(Ge.jsxs)(it.a,{to:"/myadmin/customer/".concat(t.customer_id),children:[Object(Ge.jsx)("i",{className:"fa fa-eye me-2"}),t.name," ",t.last_name]})}),Object(Ge.jsx)("div",{className:"col",children:Object(Ge.jsxs)("a",{target:"_blank",href:"mailto:".concat(t.email),className:"text-secondary",children:[Object(Ge.jsx)("i",{className:"fa fa-envelope me-2"}),t.email]})}),Object(Ge.jsx)("div",{className:"col",children:Object(Ge.jsxs)("a",{target:"_blank",href:"https://wa.me/52".concat(t.phone),className:null!==t.phone?"text-success":"text-secondary",children:[Object(Ge.jsx)("i",{className:"fab fa-whatsapp me-2"}),t.phone]})}),Object(Ge.jsxs)("div",{className:"col",children:[Object(Ge.jsx)("i",{className:"fa fa-calendar"})," ",null!==t.birthdate&&d()(t.birthdate).utc().format("DD MMM YYYY")]}),Object(Ge.jsx)("div",{className:"col",children:"admin"===c.role&&Object(Ge.jsxs)("span",{children:["$",Te(t.value)]})})]})},ia=function(e){var t=e.headers;return Object(Ge.jsx)("div",{className:"row border bg-light py-1 mx-0 bold mt-3",children:function(){if(Array.isArray(t))return t.map((function(e,t){return Object(Ge.jsx)("div",{className:"col",children:e},t)}))}()})},la=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=(t[0],t[1],Object(a.useState)(1)),n=Object(l.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)("asc"),o=Object(l.a)(i,2),d=(o[0],o[1],Object(a.useState)("")),u=Object(l.a)(d,2),j=u[0],b=u[1],m=Object(a.useContext)(bt),O=m.customers,h=m.getAllCustomers,p=Object(a.useContext)(Zt).user;Object(a.useEffect)((function(){h({page:s})}),[]),Object(a.useEffect)((function(){h({query:j,page:s})}),[j,s]);return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("div",{className:"row mx-0 align-items-center mb-4 pb-2 border-bottom",children:[Object(Ge.jsx)("div",{className:"col col-md-4 ps-0",children:Object(Ge.jsx)("h1",{children:"Clientes"})}),Object(Ge.jsx)("div",{className:"col col-md-8 pe-0",children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-8",children:Object(Ge.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:j,onChange:function(e){return b(e.target.value)}})}),Object(Ge.jsx)("div",{className:"col-12 col-md-4 text-right",children:Object(Ge.jsx)(it.a,{to:"./nuevo",className:"btn btn-accent w-100",children:"+ Agregar"})})]})})]}),Object(Ge.jsxs)("div",{className:"card no-scale p-2",children:[Object(Ge.jsx)(ia,{headers:["Nombre","Correo","Tel\xe9fono","Cumplea\xf1os","Valor"]}),O&&null!==O?Object(sa.a)(O).map((function(e){return Object(Ge.jsx)(ra,{customer:e,user:p},e.customer_id)})):Object(Ge.jsx)("div",{className:"spinner-border mt-3"}),Object(Ge.jsxs)("div",{className:"container-fluid px-0 text-right mt-3",children:[Object(Ge.jsx)("button",{className:"btn btn-light mx-2 border",onClick:function(){s>1&&r(s-1)},children:"<"}),Object(Ge.jsx)("span",{children:s}),Object(Ge.jsx)("button",{className:"btn btn-light mx-2 border",onClick:function(){return r(s+1)},children:">"})]})]})]})},oa=function(e){var t=e.paquete,c=e.confirmDelete,a=t.class_package_id,n=t.title,s=t.available,r=t.price,i=t.sale_price;return Object(Ge.jsx)("div",{className:"card p-2 hover-light no-scale br-0",children:Object(Ge.jsxs)("div",{className:"row small align-items-center",children:[Object(Ge.jsx)("div",{className:"col col-md-3",children:n}),Object(Ge.jsx)("div",{className:"col col-md-2",children:s?Object(Ge.jsx)("i",{className:"fa fa-check text-success"}):Object(Ge.jsx)("i",{className:"fa fa-times text-danger"})}),Object(Ge.jsxs)("div",{className:"col col-md-2",children:["$",Te(r)]}),Object(Ge.jsx)("div",{className:"col col-md-2",children:null===i?"":"$".concat(Te(i))}),Object(Ge.jsxs)("div",{className:"col col-md-2",children:[Object(Ge.jsxs)(it.a,{className:"btn btn-outline-secondary btn-sm",to:"./".concat(a),children:[Object(Ge.jsx)("i",{className:"fa fa-edit"})," Editar"]}),Object(Ge.jsxs)("button",{className:"btn btn-outline-danger btn-sm mx-3",onClick:function(){return c(t)},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]})]})})},da=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useContext)(Yt),r=s.paquetes,i=s.getAllPaquetes,o=s.deletePaquete,d=Object(a.useContext)($e).modalComponent;Object(a.useEffect)((function(){i()}),[]);var u=function(e){d("Precauci\xf3n",Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que deseas eliminar el paquete ",e.title,"? Esta acci\xf3n NO puede deshacerse."]}),Object(Ge.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e.class_package_id)},children:"Eliminar"})]}))};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("div",{className:"row align-items-center mb-3",children:[Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsx)("h1",{children:"Paquetes"})}),Object(Ge.jsx)("div",{className:"col col-md-6 text-end",children:Object(Ge.jsx)(it.a,{className:"btn btn-accent",to:"./nuevo",children:"+ Agregar"})})]}),Object(Ge.jsx)("div",{className:"container-fluid px-0 mb-3",children:Object(Ge.jsx)("input",{type:"text",value:c,className:"form-control",onChange:function(e){return n(e.target.value)},placeholder:"Buscar paquete por nombre..."})}),Object(Ge.jsxs)("div",{className:"row bg-light border py-2 mx-0 bold",children:[Object(Ge.jsx)("div",{className:"col col-md-3",children:"T\xedtulo"}),Object(Ge.jsx)("div",{className:"col col-md-2",children:"Disponible"}),Object(Ge.jsx)("div",{className:"col col-md-2",children:"Precio"}),Object(Ge.jsx)("div",{className:"col col-md-2",children:"Oferta"}),Object(Ge.jsx)("div",{className:"col col-md-3",children:"Acciones"})]}),function(){if(r&&null!==r){var e=r;return""!==c&&(e=e.filter((function(e){return e.title.toLowerCase().includes(c)}))),0===e.length?Object(Ge.jsx)("p",{children:"No hay paquetes disponibles."}):e.map((function(e){return Object(Ge.jsx)(oa,{paquete:e,confirmDelete:u},e.class_package_id)}))}return Object(Ge.jsx)("div",{className:"spinner-border"})}()]})},ua=c(15),ja=c.n(ua),ba=function(e){var t=e.spinner,c=e.paquete,a=e.modifier,n=e.postPaquete,s=c.title,r=c.short_description,i=c.description,l=c.price,o=c.sale_price,d=c.available,u=c.class_amount,j=c.expiration_days;return Object(Ge.jsx)("div",{className:"container-fluid px-0",children:Object(Ge.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(c)},children:[Object(Ge.jsxs)("div",{className:"row mb-3",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("label",{children:"Disponible"})}),Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)(ja.a,{checked:d,onChange:function(e){return a("available",e)}})})]}),Object(Ge.jsxs)("div",{className:"row mb-3",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("label",{children:"Evento Especial"})}),Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)(ja.a,{checked:c.is_special_event,onChange:function(e){return a("is_special_event",e)}})})]}),Object(Ge.jsxs)("div",{className:"row mb-3",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("label",{children:"\xbfEs cargo recurrente?"})}),Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)(ja.a,{checked:c.is_subscription,onChange:function(e){a("is_subscription",e),e&&(!c.is_subscription||null!==c.subscription_period&&c.subscription_period&&""!==c.subscription_period||a("subscription_period","month"))}})})]}),Object(Ge.jsx)("label",{children:"Nombre"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:s,onChange:function(e){return a("title",e.target.value)}}),Object(Ge.jsx)("label",{children:"Descripci\xf3n Corta"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:r,onChange:function(e){return a("short_description",e.target.value)}}),Object(Ge.jsx)("label",{children:"Descripci\xf3n"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:i,onChange:function(e){return a("description",e.target.value)}}),Object(Ge.jsx)("label",{children:"Precio"}),Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:l,onChange:function(e){return a("price",e.target.value)}}),Object(Ge.jsx)("label",{children:"Precio de Oferta"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:o,onChange:function(e){return a("sale_price",e.target.value)}}),Object(Ge.jsx)("label",{children:"Cantidad de Clases Presenciales (Mensual)"}),Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:u,onChange:function(e){return a("class_amount",e.target.value)}}),Object(Ge.jsx)("label",{children:c.is_subscription?"Renovar Clases cada":"D\xedas de Vigencia"}),Object(Ge.jsxs)("div",{className:"row align-items-center mb-3",children:[Object(Ge.jsx)("div",{className:"col-6 col-md-2",children:Object(Ge.jsx)("input",{type:"number",className:"form-control",value:j,onChange:function(e){return a("expiration_days",e.target.value)}})}),Object(Ge.jsx)("div",{className:"col-6 col-md-10",children:"d\xedas"})]}),c.is_subscription&&Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("label",{children:"Cargar Cada"}),Object(Ge.jsx)("div",{className:"col-12 col-md-2 mb-3",children:Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:c.subscription_interval,onChange:function(e){return a("subscription_interval",e.target.value)}})}),Object(Ge.jsx)("div",{className:"col-12 col-md-10 mb-3",children:Object(Ge.jsxs)("select",{className:"form-control",value:c.subscription_period,onChange:function(e){return a("subscription_period",e.target.value)},children:[Object(Ge.jsx)("option",{value:"day",children:"D\xeda(s)"}),Object(Ge.jsx)("option",{value:"month",children:"Mes(es)"}),Object(Ge.jsx)("option",{value:"year",children:"A\xf1o(s)"})]})})]}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("label",{children:"Periodo de Prueba Gratis"}),Object(Ge.jsx)("div",{className:"col-12 col-md-2 mb-3",children:Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:c.free_trial_length,onChange:function(e){return a("free_trial_length",e.target.value)}})}),Object(Ge.jsx)("div",{className:"col-12 col-md-10 mb-3",children:Object(Ge.jsxs)("select",{className:"form-control",value:c.free_trial_period,onChange:function(e){return a("free_trial_period",e.target.value)},children:[Object(Ge.jsx)("option",{value:"day",children:"D\xeda(s)"}),Object(Ge.jsx)("option",{value:"month",children:"Mes(es)"}),Object(Ge.jsx)("option",{value:"year",children:"A\xf1o(s)"})]})})]})]}),Object(Ge.jsx)("label",{children:"L\xedmite de Clientes"}),Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:c.customer_limit,placeholder:"Dejar en blanco para desactivar",onChange:function(e){return a("customer_limit",e.target.value)}}),Object(Ge.jsx)("label",{children:"Compras por Cliente"}),Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:c.limit_per_customer,placeholder:"Dejar en blanco para desactivar",onChange:function(e){return a("limit_per_customer",e.target.value)}}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("button",{type:"submit",className:"btn btn-dark",children:t?Object(Ge.jsx)("div",{className:"spinner-border"}):"Guardar"})}),Object(Ge.jsx)("div",{className:"col-6 text-right",children:Object(Ge.jsx)(it.a,{to:"/myadmin/videos",className:"btn btn-link text-secondary",children:"Cancelar"})})]})]})})},ma=function(e){var t=e.package_class_id,c=Object(a.useContext)(Yt),n=c.spinner,s=c.paquete,r=c.getPaqueteAdmin,i=c.setPropiedadPaquete,l=c.postPaquete,o=c.createPaquete;return Object(a.useEffect)((function(){isNaN(t)?o():r(t)}),[]),Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)(it.a,{to:"/myadmin/paquetes",className:"btn btn-outline-secondary bold shadow-sm mb-3",children:["< ","Regresar a Paquetes"]}),Object(Ge.jsxs)("h1",{className:"mb-0",children:[isNaN(t)?"Agregar":"Editar"," Paquete"]}),Object(Ge.jsx)("div",{className:"card p-3 no-scale mt-3 shadow",children:s&&null!==s?Object(Ge.jsx)(ba,{paquete:s,modifier:i,postPaquete:l,spinner:n}):Object(Ge.jsx)("div",{className:"spinner-border"})})]})},Oa=function(e){var t=e.single_class_id,c=e.modifier,n=e.confirmDeleteClass,s=Object(a.useState)(""),r=Object(l.a)(s,2),o=r[0],u=r[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),m=b[0],O=b[1],h=Object(a.useState)(""),p=Object(l.a)(h,2),x=p[0],f=p[1],v=Object(a.useState)(""),g=Object(l.a)(v,2),N=g[0],y=g[1],C=Object(a.useState)(""),_=Object(l.a)(C,2),E=_[0],k=_[1],A=Object(a.useState)(""),w=Object(l.a)(A,2),D=w[0],S=w[1],P=Object(a.useState)(null),M=Object(l.a)(P,2),I=M[0],R=M[1],T=Object(a.useState)(!1),Y=Object(l.a)(T,2),q=Y[0],L=Y[1],H=Object(a.useContext)(Qe),U=H.clase,F=H.clearClase,B=H.getClase,V=H.postClase,G=H.createClase,z=Object(a.useContext)(ic),$=z.class_types,W=z.getClassTypes,J=Object(a.useContext)(st),Q=J.coaches,X=J.getCoaches,K=Object(a.useContext)(Et),Z=K.locations,ee=K.getLocations,te=Object(a.useContext)(Yt),ce=te.paquetes,ae=te.getAllPaquetes;Object(a.useEffect)((function(){return ae(),ne(),W(),ee(),X(),function(){L(!1),F()}}),[]),Object(a.useEffect)((function(){q||null===U||(Array.isArray(U.class_instructors)&&U.class_instructors.length>0&&c("instructor_id",U.class_instructors[0].instructor_id),L(!0),c("class_date",d()(U.class_date).utc().format("YYYY-MM-DDTHH:mm")))}),[U]);var ne=function(){isNaN(t)?G():B(t)};Object(a.useEffect)((function(){null!==I?t!==I&&(F(),R(t),ne()):R(t)}),[t]);var se=function(e){e.preventDefault(),x&&(U.class_type_id="nuevo",U.class_type={name:N}),m&&(U.instructor_id="nueva",U.instructor={first_name:D}),o&&(U.location_id="nueva",U.location={name:E});var t=d()(U.class_date).format("YYYY-MM-DD HH:mm:ss");console.log(t),V(Object(i.a)(Object(i.a)({},U),{},{class_date:t}))},re=function(){if(Q&&null!==Q)return Q.length>0&&""===U.instructor_id&&setTimeout((function(){c("instructor_id",Q[0].instructor_id)}),100),Q.map((function(e){return Object(Ge.jsxs)("option",{value:e.instructor_id,children:[e.name," ",e.last_name]},e.instructor_id)}))},ie=function(){if(Z&&null!==Z)return Z.length>0&&""===U.location_id&&setTimeout((function(){c("location_id",Z[0].location_id)}),100),Z.map((function(e){return Object(Ge.jsx)("option",{value:e.location_id,children:e.name},e.location_id)}))},le=function(){if($&&null!==$)return $.length>0&&""===U.class_type_id&&setTimeout((function(){c("class_type_id",$[0].class_type_id)}),100),$.map((function(e){return Object(Ge.jsx)("option",{value:e.class_type_id,children:e.name},e.class_type_id)}))},oe=function(){if(ce&&null!==ce)return[{title:"No es evento especial"}].concat(ce).map((function(e){return Object(Ge.jsx)("option",{value:e.class_package_id,children:e.title})}))};return Object(Ge.jsx)("div",{className:"container-fluid px-0",children:function(){if(U&&null!==U){var e=U.description,t=U.class_date,a=U.class_type_id,s=U.capacity,r=U.instructor_id,i=U.location_id;return Object(Ge.jsxs)("form",{onSubmit:se,children:[Object(Ge.jsx)("label",{children:"Tipo de Clase"}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col col-md-6",children:x?Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:N,onChange:function(e){return y(e.target.value)}}):Object(Ge.jsx)("select",{className:"form-control mb-3",value:a,defaultValue:a,onChange:function(e){return c("class_type_id",parseInt(e.target.value))},children:le()})}),Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(e){e.preventDefault(),f(!x)},children:[x?"Seleccionar":"Agregar"," Tipo"]})})]}),Object(Ge.jsx)("label",{children:"Descripci\xf3n"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:e,onChange:function(e){return c("description",e.target.value)}}),Object(Ge.jsxs)("div",{className:"row mb-3",children:[Object(Ge.jsxs)("div",{className:"col-6",children:[Object(Ge.jsx)("label",{className:"mb-1",children:"Fecha"}),Object(Ge.jsx)("input",{type:"date",className:"form-control",value:t.split("T")[0],onChange:function(e){return c("class_date","".concat(e.target.value,"T").concat(t.split("T")[1]))}})]}),Object(Ge.jsxs)("div",{className:"col-6",children:[Object(Ge.jsx)("label",{className:"mb-1",children:"Hora (0h - 23h)"}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("input",{type:"number",className:"form-control",value:t.split("T")[1].split(":")[0],onChange:function(e){return function(e){var t=String(e);1===t.length?t="0".concat(t):t.length>2&&(t="0"===t[0]?t.substr(1):t.substr(0,2)),parseInt(t)>23&&(t="23"),parseInt(t)<0&&(t="0");var a=U.class_date.split("T")[0],n=U.class_date.split("T")[1].split(":")[1];c("class_date","".concat(a,"T").concat(t,":").concat(n))}(e.target.value)},max:23,min:0})}),Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("input",{type:"number",className:"form-control",value:t.split("T")[1].split(":")[1],max:59,min:0,onChange:function(e){return function(e){var t=String(e);1===t.length?t="0".concat(t):t.length>2&&(t="0"===t[0]?t.substr(1):t.substr(0,2)),parseInt(t)>59&&(t="23"),parseInt(t)<0&&(t="0");var a=U.class_date.split("T")[0],n=U.class_date.split("T")[1].split(":")[0];c("class_date","".concat(a,"T").concat(n,":").concat(t))}(e.target.value)}})})]})]})]}),Object(Ge.jsx)("label",{children:"Coach"}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col col-md-6",children:m?Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:D,onChange:function(e){return S(e.target.value)}}):Object(Ge.jsx)("select",{className:"form-control mb-3",value:r,onChange:function(e){return c("instructor_id",parseInt(e.target.value))},children:re()})}),Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(e){e.preventDefault(),O(!m)},children:[m?"Seleccionar":"Agregar"," Coach"]})})]}),Object(Ge.jsx)("label",{children:"Ubicaci\xf3n"}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col col-md-6",children:o?Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:E,onChange:function(e){return k(e.target.value)}}):Object(Ge.jsx)("select",{className:"form-control mb-3",value:i,onChange:function(e){c("location_id",parseInt(e.target.value))},children:ie()})}),Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsxs)("button",{className:"btn btn-outline-dark",onClick:function(e){e.preventDefault(),u(!o)},children:[o?"Seleccionar":"Agregar"," Ubicaci\xf3n"]})})]}),Object(Ge.jsx)("label",{children:"Capacidad"}),Object(Ge.jsx)("input",{type:"number",min:0,className:"form-control mb-3",value:s,onChange:function(e){return c("capacity",e.target.value)}}),Object(Ge.jsx)("label",{children:"Evento Especial"}),Object(Ge.jsx)("select",{className:"form-control mb-3",value:U.package_id,onChange:function(e){return c("package_id",e.target.value)},children:oe()}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsx)("button",{type:"submit",className:"btn btn-dark btn-block",children:"Guardar"})}),Object(Ge.jsx)("div",{className:"col col-md-6 text-end",children:Object(Ge.jsx)("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),n(U)},children:"Eliminar"})})]})]})}}()})},ha=function(e){var t=e.singleClass,c=Object(a.useContext)($e).modalComponent,n=Object(a.useContext)(Qe),s=n.setPropiedadClase,r=n.eliminarClase,i=Object(a.useContext)(Zt).user,l=function(){c("Agregar Clase",Object(Ge.jsx)(Oa,{single_class_id:t.single_class_id,modifier:s}))},o=function(){c("Eliminar Clase",Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que deseas eliminar la clase de"," ",t.class_type.name," del"," ",d()(t.class_date).format("DD MMM YYY"),"?"]}),Object(Ge.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return r(t.single_class_id)},children:"Eliminar"})]}))};return Object(Ge.jsxs)("div",{className:"schedule-class small p-2 my-2 bg-accent text-dark",children:[Object(Ge.jsxs)("p",{className:"mb-1 bold",children:[Object(Ge.jsx)("i",{className:t.icon})," ",t.class_type.name]}),Object(Ge.jsx)("p",{className:"mb-1 small",children:t.description}),Object(Ge.jsxs)("p",{className:"font-weight-bold mb-1",children:[Object(Ge.jsx)("i",{className:"far fa-clock"})," ",d()(t.class_date).utc().format("HH:mm")]}),1===t.class_instructors.length?t.class_instructors[0].instructor.name:t.class_instructors.map((function(e){return Object(Ge.jsx)("span",{className:"d-block",children:e.instructor.name})})),function(){if("coach"!==i.role)return Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("button",{className:"btn btn-dark btn-sm my-1 mx-2",onClick:l,children:Object(Ge.jsx)("i",{className:"fa fa-edit"})}),Object(Ge.jsx)("button",{className:"btn btn-danger btn-sm my-1 mx-2",onClick:o,children:Object(Ge.jsx)("i",{className:"fa fa-trash"})})]})}()]})},pa=function(e){var t=e.day,c=e.clases;return Object(Ge.jsx)("div",{className:"schedule-col px-0 text-center border bg-light ".concat(0===t.details.length?"hide-mobile":""),children:Object(Ge.jsx)("div",{className:"bg-light px-2",children:function(){if(Array.isArray(c))return c.map((function(e){return Object(Ge.jsx)(ha,{singleClass:e},e.single_class_id)}))}()})})},xa=function(e){var t=e.week,c=e.location,a=e.isHome,n=e.filtered,s=function(e,t){return e.details.filter((function(e){return d()(e.class_date).utc().format("HH : mm")===t})).sort((function(e,t){return d()(e.class_date).format("HH:mm")>d()(t.class_date).format("HH:mm")?1:-1}))},r=function(e){var t=d()().startOf("day"),c=15*e;return t.add(c,"minutes"),t.format("HH : mm")};return Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"schedule-col text-center bold border-bottom bg-dark text-white py-4",children:Object(Ge.jsx)("div",{className:"row align-items-center h-100",children:Object(Ge.jsx)("span",{children:"Horario"})})}),t.map((function(e){return Object(Ge.jsxs)("div",{className:"schedule-col border",children:[Object(Ge.jsx)("div",{className:"row mx-0 pt-2",children:Object(Ge.jsx)("div",{className:"container-fluid text-center",children:d()().format("MMM")===d()(e.date).format("MMM")&&d()(e.date).utc().format("DD")})}),Object(Ge.jsx)("div",{className:"row mx-0 my-3 bg-dark text-white",children:Object(Ge.jsx)("div",{className:"container-fluid text-center",children:d()().format("MMM")===d()(e.date).format("MMM")&&d()(e.date).utc().format("dd")})})]},e.date)}))]}),new Array(96).fill(1).map((function(e,i){var l=r(i);return t.find((function(e){return e.details.find((function(e){return d()(e.class_date).utc().format("HH : mm")===l}))}))?Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"schedule-col time-container text-center bold border-bottom bg-dark text-white py-4",children:Object(Ge.jsx)("div",{className:"row align-items-center h-100",children:Object(Ge.jsx)("span",{children:r(i)})})}),t.map((function(e){return Object(Ge.jsx)(pa,{day:e,clases:s(e,l),location:c,isHome:a,filtered:n},e.date)}))]},i):null})).filter((function(e){return null!==e}))]})},fa=function(){return Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("h5",{children:"Leyenda"}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-2 col-sm-2",children:Object(Ge.jsx)("div",{className:"color-legend bg-accent-secondary pe-0"})}),Object(Ge.jsx)("div",{className:"col-10 col-sm-10 ps-0",children:Object(Ge.jsx)("p",{children:"Disponible"})})]}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-2 col-sm-2",children:Object(Ge.jsx)("div",{className:"color-legend bg-accent pe-0"})}),Object(Ge.jsx)("div",{className:"col-10 col-sm-10 ps-0",children:Object(Ge.jsx)("p",{children:"Reservada"})})]}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-2 col-sm-2",children:Object(Ge.jsx)("div",{className:"color-legend bg-secondary pe-0"})}),Object(Ge.jsx)("div",{className:"col-10 col-sm-10 ps-0",children:Object(Ge.jsx)("p",{children:"Sin lugares"})})]})]})},va=function(e){var t=e.locations,c=e.isHome,n=Object(a.useState)(0),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(""),u=Object(l.a)(o,2),j=u[0],b=u[1],m=Object(a.useState)(!0),O=Object(l.a)(m,2),h=O[0],p=(O[1],Object(a.useState)(0)),x=Object(l.a)(p,2),f=x[0],v=x[1],g=Object(a.useState)(""),N=Object(l.a)(g,2),y=N[0],C=N[1],_=Object(a.useState)(d()().month()),E=Object(l.a)(_,2),k=E[0],A=E[1],w=Object(a.useContext)(Qe),D=w.days,S=w.getSchedule;Object(a.useEffect)((function(){var e=d()(k+1,"M").startOf("month").startOf("isoWeek").format("YYYY-MM-DD"),t=d()(k+1,"M").endOf("month").endOf("isoWeek").format("YYYY-MM-DD");S(e,t)}),[k]),Object(a.useEffect)((function(){if(Array.isArray(D)){var e=Math.ceil(D.length/7);if(C(e),k===d()().month()){var t=d()().startOf("week"),c=D.filter((function(e){return d()(e.date).isAfter(t)})),a=Math.abs(parseInt((D.length-c.length)/7));v(a),a>0&&i(a)}else i(0)}}),[D]);var P=function(){if(t&&null!==t)return[Object(Ge.jsx)("option",{value:"",children:"Todos los Estudios"},"all")].concat(Object(sa.a)(t.map((function(e){return Object(Ge.jsx)("option",{value:e.location_id,children:e.name},e.location_id)}))))},M=function(e){if(e&&null!==e){var t=0;return e.forEach((function(e){t+=e.details.length})),t>0}};return Object(Ge.jsx)("div",{className:"container-fluid px-0 hide-mobile",style:{overflowX:"hidden"},children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsxs)("div",{className:"col-12 col-xl-2 my-2",children:[Object(Ge.jsxs)("div",{className:"row align-items-center mb-4",children:[Object(Ge.jsx)("div",{className:"col-4",children:Object(Ge.jsx)("button",{className:"btn btn-light border",disabled:0===k,onClick:function(){k>0&&A(k-1)},children:Object(Ge.jsx)("i",{className:"fa fa-chevron-left"})})}),Object(Ge.jsx)("div",{className:"col-4",children:Object(Ge.jsx)("h2",{className:"mb-0",children:d()(k+1,"M").format("MMM")})}),Object(Ge.jsx)("div",{className:"col-4 text-right",children:Object(Ge.jsx)("button",{className:"btn btn-light border",disabled:11===k,onClick:function(){return A(k+1)},children:Object(Ge.jsx)("i",{className:"fa fa-chevron-right"})})})]}),function(){if(Array.isArray(t)&&t.length>1)return Object(Ge.jsxs)("div",{className:"form-group mb-4",children:[Object(Ge.jsx)("label",{children:"Buscar por estudio"}),Object(Ge.jsx)("select",{className:"form-control",onChange:function(e){return b(e.target.value)},children:P()})]})}(),Object(Ge.jsx)(fa,{})]}),Object(Ge.jsxs)("div",{className:"col-12 col-xl-10 my-2",children:[Object(Ge.jsxs)("div",{className:"row mb-4 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-4 text-center",children:Object(Ge.jsx)("button",{className:"btn btn-light btn-lg shadow-sm border",disabled:r===f,onClick:function(){r>f&&i(r-1)},children:Object(Ge.jsx)("i",{className:"fa fa-chevron-left"})})}),Object(Ge.jsx)("div",{className:"col-4 text-center",children:Object(Ge.jsxs)("h4",{className:"mb-0",children:["Semana ",r+1]})}),Object(Ge.jsx)("div",{className:"col-4 text-center",children:Object(Ge.jsx)("button",{className:"btn btn-light btn-lg shadow-sm border",disabled:r===y-1,onClick:function(){r<y-1&&i(r+1)},children:Object(Ge.jsx)("i",{className:"fa fa-chevron-right"})})})]}),Object(Ge.jsx)("div",{className:"container-fluid ps-0",children:function(){if(D&&null!==D&&""!==y){var e=D.slice(7*r,7*r+7);return M(e)?Object(Ge.jsx)(xa,{week:e,location:j,isHome:c,filtered:h}):Object(Ge.jsx)("div",{className:"row",children:Object(Ge.jsx)("p",{className:"px-0 mb-0 text-center",children:"No hay clases programadas."})})}}()})]})]})})},ga=function(e){var t=e.title,c=e.onClick,a=e.hideButton;return Object(Ge.jsxs)("div",{className:"row mx-0 align-items-center mb-3 pb-3 border-bottom",children:[Object(Ge.jsx)("div",{className:"col col-md-6 px-0",children:Object(Ge.jsx)("h1",{className:"h2 bold mb-0",children:t})}),Object(Ge.jsx)("div",{className:"col col-md-6 px-0 text-end",children:!a&&Object(Ge.jsx)("button",{className:"btn btn-accent",onClick:c,children:"+ Agregar"})})]})},Na=function(){var e=Object(a.useContext)(Qe).setPropiedadClase,t=Object(a.useContext)($e).modalComponent,c=Object(a.useContext)(Zt).user;return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)(ga,{title:"Clases",onClick:function(){t("Agregar Clase",Object(Ge.jsx)(Oa,{class_instructor_id:"nueva",modifier:e}))},hideButton:"coach"===c.role}),Object(Ge.jsx)(va,{})]})},ya=function(e){var t=e.clase;return Object(Ge.jsx)(it.a,{to:"./".concat(t.single_class_id),className:"no-decoration text-dark",children:Object(Ge.jsx)("div",{className:"card p-3 shadow-sm no-scale br-0",children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col",children:d()(t.class_date).utc().format("DD MMM YYYY HH:mm")}),Object(Ge.jsx)("div",{className:"col",children:null!==t.class_instructors&&t.class_instructors.length>0?t.class_instructors.map((function(e){return e.instructor.name})).join(","):"N/D"}),Object(Ge.jsx)("div",{className:"col",children:function(){if(t.location&&null!==t.location)return t.location.name}()}),Object(Ge.jsxs)("div",{className:"col",children:[Object(Ge.jsx)("span",{className:"show-mobile bold",children:"Capacidad: "}),t.capacity]}),Object(Ge.jsxs)("div",{className:"col",children:[Object(Ge.jsx)("span",{className:"show-mobile bold",children:"Reservados: "}),t.reservations]})]})})})},Ca=function(e){var t=e.title,c=e.callback,n=Object(a.useState)(d()().startOf("month").format("YYYY-MM-DD")),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(d()().endOf("month").format("YYYY-MM-DD")),u=Object(l.a)(o,2),j=u[0],b=u[1];return Object(a.useEffect)((function(){"function"===typeof c&&c(r,j)}),[r,j]),Object(Ge.jsxs)("div",{className:"row mx-0 align-items-center mb-3 pb-3 border-bottom",children:[Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsx)("h1",{className:"h2 bold mb-0",children:t})}),Object(Ge.jsx)("div",{className:"col col-md-6text-end",children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("input",{type:"date",value:r,className:"form-control",onChange:function(e){return i(e.target.value)}})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("input",{type:"date",value:j,className:"form-control",onChange:function(e){return b(e.target.value)}})})]})})]})},_a=function(){var e=Object(a.useContext)(Qe),t=e.spinner,c=e.clases,n=e.getClases;return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)(Ca,{title:"Asistentes",callback:n}),Object(Ge.jsx)(ia,{headers:["Fecha","Coach","Ubicaci\xf3n","Capacidad","Reservadas"]}),c&&null!==c&&!t?0===c.length?Object(Ge.jsx)("p",{className:"mt-3",children:"No hay clases disponibles."}):c.map((function(e){return Object(Ge.jsx)(ya,{clase:e},e.single_class_id)})):Object(Ge.jsx)("div",{className:"spinner-border mt-3"})]})},Ea=function(e){var t=e.single_class_id,c=Object(a.useState)(null),n=Object(l.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(null),o=Object(l.a)(i,2),d=o[0],u=o[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),m=b[0],O=b[1],h=Object(a.useState)(!1),p=Object(l.a)(h,2),x=p[0],f=p[1],v=Object(a.useContext)(bt),g=v.customers,N=v.getAllCustomers,y=Object(a.useContext)(Qe).postAsistenteClase,C=Object(a.useState)(""),_=Object(l.a)(C,2),E=_[0],k=_[1];Object(a.useEffect)((function(){N({query:E})}),[E]),Object(a.useEffect)((function(){u(m?He[0].value:null)}),[m]);return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)("p",{children:"Buscar por nombre o correo."}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",placeholder:"Buscar...",value:E,onChange:function(e){return k(e.target.value)}}),null!==s?Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsxs)("p",{children:[s.name," ",s.last_name]}),Object(Ge.jsx)("p",{children:s.email}),Object(Ge.jsxs)("div",{className:"row my-3",children:[Object(Ge.jsx)("div",{className:"col col-md-6 bold",children:"\xbfPago fuera de Plataforma?"}),Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsx)(ja.a,{checked:m,onChange:function(e){return O(e)}})})]}),Object(Ge.jsxs)("div",{className:"row my-3",children:[Object(Ge.jsx)("div",{className:"col col-md-6 bold",children:"\xbfPagada?"}),Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsx)(ja.a,{checked:x,onChange:function(e){return f(e)}})})]}),m&&Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("label",{children:"M\xe9todo de Pago"}),Object(Ge.jsx)("select",{value:d,className:"form-control mb-3",onChange:function(e){return u(e.target.value)},children:He.map((function(e){return Object(Ge.jsx)("option",{value:e.value,children:e.name},e.value)}))})]}),Object(Ge.jsx)("button",{className:"btn btn-dark",onClick:function(){return function(e,t,c,a){Ye(),r(null),y(e,t,c,a)}(s.customer_id,t,d,x)},children:"Agregar a Clase"})]}):g&&null!==g?g.map((function(e){return Object(Ge.jsxs)("div",{className:"row align-items-center py-2 small hover-light border-top",children:[Object(Ge.jsxs)("div",{className:"col col-md-4",children:[e.name," ",e.last_name]}),Object(Ge.jsx)("div",{className:"col col-md-4",children:e.email}),Object(Ge.jsx)("div",{className:"col col-md-4 text-end",children:Object(Ge.jsx)("button",{className:"btn btn-outline-dark btn-sm",onClick:function(){return r(e)},children:"+"})})]},e.customer_id)})):void 0]})},ka=function(e){var t=e.user,c=e.asistente,a=e.confirmCancel,n=e.postPayment,s=e.postAttend,r=e.single_class_id,i=e.is_special_event;return Object(Ge.jsx)("div",{className:"card p-2 no-scale",children:Object(Ge.jsxs)("div",{className:"row align-items-center",children:[Object(Ge.jsxs)("div",{className:"col my-2",children:[c.birthday&&null!==c.birthday&&d()(c.birthday).format("YYYY-MM-DD")===d()().format("YYYY-MM-DD")&&Object(Ge.jsx)("i",{className:"fa fa-birthday-cake"}),c.customer.name," ",c.customer.last_name]}),Object(Ge.jsxs)("div",{className:"col my-2",children:[Object(Ge.jsx)("i",{className:"fab fa-instagram me-2"}),"@",c.instagram]}),Object(Ge.jsxs)("div",{className:"col my-2",children:[Object(Ge.jsx)("button",{className:"me-2  btn btn-success",onClick:function(){return e=c.phone,e=String(e).replace("+52",""),void window.open("https://wa.me/521".concat(e),"_blank");var e},children:Object(Ge.jsx)("i",{className:"fab fa-whatsapp"})}),c.phone]}),Object(Ge.jsx)("div",{className:"col my-2",children:c.spot}),!i&&Object(Ge.jsxs)("div",{className:"col my-2",children:[Object(Ge.jsx)("button",{className:"btn btn-".concat(c.attend?"link text-dark":"outline-secondary"," me-2"),onClick:function(){return s(c.class_reservation_id,!c.attend,r)},children:Object(Ge.jsx)("i",{className:"fa fa-check"})}),c.is_cash&&Object(Ge.jsx)("button",{className:"btn btn-outline-".concat(c.is_paid?"danger":"success"," mx-2"),onClick:function(){return n(c.class_reservation_id,!c.is_paid,r)},children:Object(Ge.jsx)("i",{className:"fa fa-money-bill"})}),!t.instructor_id&&!t.isManager&&Object(Ge.jsx)("button",{className:"btn btn-outline-danger mx-2",onClick:function(){return a(c)},children:Object(Ge.jsx)("i",{className:"fa fa-trash"})})]})]})})},Aa=function(e){var t=e.rows,c=e.place,a=e.setPlace,n=e.icon,s=e.taken_spots,r=t.reduce((function(e,t){return e+t})),i=function(e,c){return e>0?r-l(e)+c-t[e]+1:r-c},l=function(e){for(var c=0,a=0;a<e;a++)c+=t[a];return c};return Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("p",{className:"bold",children:n?"Selecciona tu Lugar":"Lugares"}),t.map((function(e,t){return Object(Ge.jsx)("div",{className:"row my-3",children:new Array(e).fill(1).map((function(r,l){return Object(Ge.jsx)("div",{className:"col-".concat(12/e," mb-3 text-center"),children:Object(Ge.jsxs)("button",{className:"btn btn-".concat(Array.isArray(s)&&Array.from(s).includes("".concat(i(t,l)))?"secondary":c==="".concat(i(t,l))?"dark":"light"),onClick:function(){return a("".concat(i(t,l)))},disabled:Array.isArray(s)&&Array.from(s).includes("".concat(i(t,l))),children:[n&&Object(Ge.jsx)("i",{className:"".concat(n," ").concat(Array.isArray(s)&&Array.from(s).includes("".concat(i(t,l)))?"text-dark":c==="".concat(i(t,l))?"text-accent":"text-success")}),Object(Ge.jsx)("p",{className:"mb-0",children:"".concat(i(t,l))})]})},l)}))},t)})),Object(Ge.jsx)("div",{className:"container-fluid px-0 py-1 bg-dark text-center mb-3",children:Object(Ge.jsx)("p",{className:"text-accent mb-0 small bold",children:"Coach"})})]})},wa=function(e){var t=e.single_class_id,c=Object(a.useContext)(Qe),n=c.clase,s=c.clearClase,r=c.getAsistentes,i=c.postPayment,o=c.eliminarClase,u=c.updateGuestName,j=Object(a.useContext)(Xc).postAttend,b=Object(a.useContext)(Xc).eliminarReservacion,m=Object(a.useContext)(Zt).user,O=Object(a.useContext)($e).modalComponent,h=Object(a.useState)(!1),p=Object(l.a)(h,2),x=p[0],f=p[1],v=Object(a.useState)(""),g=Object(l.a)(v,2),N=g[0],y=g[1];Object(a.useEffect)((function(){return r(t),function(){s()}}),[]);var C=function(){O("Editar Clase",Object(Ge.jsx)(Oa,{}))},_=function(e){O("Eliminar Clase",Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que deseas eliminar la clase ",e.description,"? Esta acci\xf3n NO puede deshacerse."]}),Object(Ge.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e.class_id)},children:"Eliminar"})]}))},E=function(e){O("\xbfCancelar reservacion?",Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que deseas cancelar la reservacion de ",e.name,"? Esta acci\xf3n NO puede deshacerse."]}),Object(Ge.jsx)("button",{className:"btn btn-danger",onClick:function(){return b(e.class_reservation_id,(function(){return r(t)}))},children:"Eliminar"})]}))};return Object(Ge.jsxs)("div",{className:"contiainer-fluid",children:[Object(Ge.jsx)(ga,{title:"Clase Presencial",onClick:function(){O("Agregar Asistente",Object(Ge.jsx)(Ea,{single_class_id:t}))}}),Object(Ge.jsx)("div",{className:"card p-3 shadow-sm no-scale",children:n&&null!==n?Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsxs)("div",{className:"col col-md-6",children:[Object(Ge.jsx)("h4",{children:"Datos de Clase"}),Object(Ge.jsx)("p",{children:d()(n.class_date).utc().format("DD MMM YYYY HH:mm")}),Object(Ge.jsx)("p",{children:n.class_type.name}),Object(Ge.jsx)("p",{children:n.location.name}),["admin","manager"].includes(m.role)&&Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("button",{className:"btn btn-outline-secondary",onClick:C,children:[Object(Ge.jsx)("i",{className:"fa fa-edit me-2"})," Editar"]}),Object(Ge.jsxs)("button",{className:"btn btn-outline-danger mx-3",onClick:_,children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]})]}),Object(Ge.jsx)("div",{className:"col col-md-6",children:null!==n.class_type.spot_map&&Object(Ge.jsx)(Aa,{rows:n.class_type.spot_map.split(",").map((function(e){return parseInt(e)})),taken_spots:n.asistentes.map((function(e){return e.spot}))})})]}):Object(Ge.jsx)("div",{className:"spinner-border"})}),Object(Ge.jsx)(ia,{headers:["Nombre","Instagram","Tel\xe9fono","Lugar","Acciones"]}),function(){if(n&&null!==n&&n.asistentes&&null!==n.asistentes)return 0===n.asistentes.length?Object(Ge.jsx)("p",{className:"mt-2 px-1",children:"A\xfan no hay asistentes registrados"}):n.asistentes.map((function(e){return Object(Ge.jsx)(ka,{name:N,user:m,asistente:e,editName:x,setName:y,setEditName:f,confirmCancel:E,postPayment:i,postAttend:j,updateGuestName:u,single_class_id:t},e.class_reservation_id)}))}()]})},Da=function(e){var t=e.modifier,c=e.postLocation,n=Object(a.useContext)(Et).location,s=function(e){e.preventDefault(),c(n)};return Object(Ge.jsx)("div",{className:"container-fluid px-0",children:function(){if(n&&null!==n){var e=n.description,c=n.address;return Object(Ge.jsxs)("form",{onSubmit:s,children:[Object(Ge.jsx)("label",{children:"Nombre"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:e,onChange:function(e){return t("description",e.target.value)}}),Object(Ge.jsx)("label",{children:"Direcci\xf3n"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:c,onChange:function(e){return t("address",e.target.value)}}),Object(Ge.jsx)("input",{type:"submit",className:"btn btn-dark",value:"Guardar"})]})}}()})},Sa=function(){var e=Object(a.useContext)(Et),t=e.locations,c=e.setLocation,n=e.getLocations,s=e.createLocation,r=e.postLocation,i=e.deleteLocation,l=e.setPropiedadLocation,o=Object(a.useContext)($e).modalComponent;Object(a.useEffect)((function(){n()}),[]);return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("div",{className:"row border-bottom pb-3 mb-3",children:[Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsx)("h1",{children:"Ubicaciones"})}),Object(Ge.jsx)("div",{className:"col col-md-6 text-end",children:Object(Ge.jsx)("button",{className:"btn btn-dark",onClick:function(){s(),o("Agregar Ubicaci\xf3n",Object(Ge.jsx)(Da,{modifier:l,postLocation:r}))},children:"+ Agregar"})})]}),t&&null!==t?t.map((function(e){return Object(Ge.jsx)("div",{className:"card p-3 no-scale my-2",children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col col-md-4",children:e.description}),Object(Ge.jsx)("div",{className:"col col-md-4",children:e.address}),Object(Ge.jsxs)("div",{className:"col col-md-4",children:[Object(Ge.jsxs)("button",{className:"btn btn-outline-secondary",onClick:function(){return function(e){c(e),o("Editar Ubicaci\xf3n",Object(Ge.jsx)(Da,{modifier:l,postLocation:r}))}(e)},children:[Object(Ge.jsx)("i",{className:"fa fa-edit"})," Editar"]}),Object(Ge.jsx)("button",{className:"btn btn-outline-danger mx-3",onClick:function(){return function(e){o("Cuidado",Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que deseas eliminar la ubicaci\xf3n ",e.description,"? Esta acci\xf3n NO puede deshacerse."]}),Object(Ge.jsx)("button",{className:"btn btn-danger",onClick:function(){return i(e.location_id)},children:"Eliminar"})]}))}(e)},children:Object(Ge.jsx)("i",{className:"fa fa-trash"})})]})]})})})):Object(Ge.jsx)("div",{className:"spinner-border"})]})},Pa=function(e){var t=e.coach,c=e.editCoach,a=e.deleteCoach,n=t.name,s=t.last_name,r=t.birthdate;return Object(Ge.jsx)("div",{className:"card py-2 px-3 br-0 shadow-sm no-scale",children:Object(Ge.jsxs)("div",{className:"row small align-items-center",children:[Object(Ge.jsxs)("div",{className:"col-12 col-md-4",children:[n," ",null!==s?s:""]}),Object(Ge.jsx)("div",{className:"col-12 col-md-4",children:null!==r?Object(Ge.jsxs)(Ge.Fragment,{children:[d()(r).utc().format("DD MMM YYYY"),d()(r).isSame(d()())&&Object(Ge.jsx)("i",{className:"fa fa-birthday-cake"})]}):""}),Object(Ge.jsxs)("div",{className:"col-12 col-md-4",children:[Object(Ge.jsxs)("button",{className:"btn btn-outline-secondary mx-2 btn-sm",onClick:function(){return c(t)},children:[Object(Ge.jsx)("i",{className:"fa fa-edit"})," Editar"]}),Object(Ge.jsxs)("button",{className:"btn btn-outline-danger mx-2 btn-sm",onClick:function(){return a(t)},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]})]})})},Ma=function(e){var t=e.value,c=e.modifier,n=Object(a.useState)(""),s=Object(l.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(""),u=Object(l.a)(o,2),j=u[0],b=u[1],m=Object(a.useState)(""),O=Object(l.a)(m,2),h=O[0],p=O[1];return Object(a.useEffect)((function(){if(""!==r&&""!==j&&""!==h&&4===String(h).length){var e="".concat(h,"-").concat(2===String(j).length?j:"0".concat(j),"-").concat(2===String(r).length?r:"0".concat(r));d()(e).isValid()&&c(e)}}),[r,j,h]),Object(a.useEffect)((function(){var e=d()(t).utc();e.isValid()&&(i(e.format("DD")),b(e.format("MM")),p(e.format("YYYY")))}),[]),Object(Ge.jsxs)("div",{className:"row mb-3",children:[Object(Ge.jsx)("div",{className:"col-4",children:Object(Ge.jsx)("input",{type:"number",className:"form-control",placeholder:"D\xeda (DD)",value:r,onChange:function(e){return i(e.target.value)}})}),Object(Ge.jsx)("div",{className:"col-4",children:Object(Ge.jsx)("input",{type:"number",className:"form-control",placeholder:"Mes (MM)",value:j,onChange:function(e){return b(e.target.value)}})}),Object(Ge.jsx)("div",{className:"col-4",children:Object(Ge.jsx)("input",{type:"number",className:"form-control",placeholder:"A\xf1o (YYYY)",value:h,onChange:function(e){return p(e.target.value)}})})]})},Ia=function(e){var t=e.idCoach,c=Object(a.useContext)(bt),n=c.customers,s=c.getCustomersByQuery,r=Object(a.useContext)(st),o=r.coach,d=r.getCoach,u=r.createCoach,j=r.postCoach,b=r.setPropiedadCoach,m=Object(a.useState)(null),O=Object(l.a)(m,2),h=O[0],p=O[1],x=Object(a.useState)(null),f=Object(l.a)(x,2),v=f[0],g=f[1],N=Object(a.useState)(null),y=Object(l.a)(N,2),C=y[0],_=y[1],E=Object(a.useState)(""),k=Object(l.a)(E,2),A=k[0],w=k[1];Object(a.useEffect)((function(){""!==A&&s(A)}),[A]),Object(a.useEffect)((function(){isNaN(t)?u():d(t)}),[t]),Object(a.useEffect)((function(){if(null!==v){var e=new FileReader;e.onload=function(e){_(e.target.result)},e.readAsDataURL(v)}else _(null)}),[v]);var D=function(e){e.preventDefault(),j(Object(i.a)(Object(i.a)({},o),{},{file:v,customer:h}))},S=function(){if(o&&null!==o){if(null!==o.idAdjunto)return Object(Ge.jsx)("img",{src:"".concat(Ie,"/adjuntos/").concat(o.idAdjunto),className:"mw-100 w-100 d-block m-auto"});if(null!==C)return Object(Ge.jsx)("img",{src:C,className:"mw-100 w-100 d-block m-auto"})}};return Object(Ge.jsx)("div",{className:"container-fluid px-0",children:function(){if(o&&null!==o){var e=o.name,c=o.last_name,a=o.nick_name,s=o.birthdate,r=o.short_bio;return Object(Ge.jsxs)("form",{onSubmit:D,children:[Object(Ge.jsx)("label",{children:"Nombre"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:e,onChange:function(e){return b("name",e.target.value)}}),Object(Ge.jsx)("label",{children:"Apellidos"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:c,onChange:function(e){return b("last_name",e.target.value)}}),Object(Ge.jsx)("label",{children:"Fotograf\xeda"}),Object(Ge.jsxs)("div",{className:"row mb-4",children:[Object(Ge.jsx)("div",{className:"col-4",children:S()}),Object(Ge.jsx)("div",{className:"col-8",children:Object(Ge.jsx)("input",{type:"file",className:"form-control",onChange:function(e){return g(e.target.files[0])}})})]}),Object(Ge.jsx)("label",{children:"Fecha de Nacimiento"}),Object(Ge.jsx)(Ma,{value:s,modifier:function(e){return b("birthdate",e)}}),Object(Ge.jsx)("label",{children:"Apodo"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:a,onChange:function(e){return b("nick_name",e.target.value)}}),Object(Ge.jsx)("label",{children:"Bio"}),Object(Ge.jsx)("textarea",{rows:"5",className:"form-control mb-3",value:r,onChange:function(e){return b("short_bio",e.target.value)}}),!isNaN(t)&&Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("label",{children:"Asignar Usuario a Coach"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",placeholder:"Buscar...",value:A,onChange:function(e){return w(e.target.value)}}),null!==h?Object(Ge.jsxs)("div",{className:"container-fluid px-0 mb-3",children:[Object(Ge.jsxs)("p",{children:[h.name," ",h.last_name]}),Object(Ge.jsx)("p",{children:h.email})]}):n&&null!==n?n.map((function(e){return Object(Ge.jsxs)("div",{className:"row align-items-center",children:[Object(Ge.jsxs)("div",{className:"col col-md-4",children:[e.name," ",e.last_name]}),Object(Ge.jsx)("div",{className:"col col-md-4 small",children:e.email}),Object(Ge.jsx)("div",{className:"col col-md-4 text-end",children:Object(Ge.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return p(e)},children:"+ Conectar"})})]},e.customer_id)})):void 0]}),Object(Ge.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Guardar"})]})}}()})},Ra=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useContext)(st),r=s.coaches,i=s.getCoaches,o=s.deleteCoach,d=Object(a.useContext)($e).modalComponent;Object(a.useEffect)((function(){i()}),[]);var u=function(e){d("Editar Coach",Object(Ge.jsx)(Ia,{idCoach:e.instructor_id}))},j=function(e){d("\xa1Precauci\xf3n!",Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que quieres eliminar a la coach ",e.name,"? Esta acci\xf3n NO puede deshacerse."]}),Object(Ge.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e.instructor_id)},children:"Eliminar"})]}))};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)(ga,{title:"Coaches",onClick:function(){d("Agregar Coach",Object(Ge.jsx)(Ia,{idCoach:"nueva"}))}}),Object(Ge.jsx)("div",{className:"container-fluid px-0 mb-3",children:Object(Ge.jsx)("input",{type:"text",value:c,className:"form-control",onChange:function(e){return n(e.target.value)},placeholder:"Buscar paquete por nombre..."})}),Object(Ge.jsx)(ia,{headers:["Nombre","Cumplea\xf1os","Acciones"]}),function(){if(r&&null!==r){var e=r;return""!==c&&(e=e.filter((function(e){return e.name.toLowerCase().includes(c)||e.last_name.toLowerCase().includes(c)}))),0===e.length?Object(Ge.jsx)("p",{children:"No hay coaches registrados."}):e.map((function(e){return Object(Ge.jsx)(Pa,{coach:e,editCoach:u,deleteCoach:j},e.instructor_id)}))}return Object(Ge.jsx)("div",{className:"spinner-border"})}()]})},Ta=function(e){var t=e.customer,c=e.paquetes,n=e.extenderAcceso,s=Object(a.useState)(0),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),j=u[0],b=u[1],m=Object(a.useState)(""),O=Object(l.a)(m,2),h=O[0],p=O[1],x=Object(a.useState)(null),f=Object(l.a)(x,2),v=f[0],g=f[1],N=Object(a.useState)(null),y=Object(l.a)(N,2),C=y[0],_=y[1],E=Object(a.useState)(null),k=Object(l.a)(E,2),A=k[0],w=k[1];Object(a.useEffect)((function(){if(c&&null!==c&&null===C){var e=c[0];_(e),w(e.class_package_id),o(e.expiration_days),p(e.price)}}),[c]),Object(a.useEffect)((function(){null!==C&&g(2)}),[C]),Object(a.useEffect)((function(){var e=c.find((function(e){return e.class_package_id===parseInt(A)}));e&&(_(e),o(e.expiration_days))}),[A]);return Object(Ge.jsx)("div",{className:"container-fluid px-0",children:Object(Ge.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(t.customer_id,A,i,j,h,v)},children:[Object(Ge.jsx)("label",{children:"Paquete"}),Object(Ge.jsx)("select",{className:"form-control mb-3",onChange:function(e){return w(e.target.value)},children:function(){if(c&&null!==c)return c.map((function(e){return Object(Ge.jsx)("option",{value:e.class_package_id,children:e.title},e.class_package_id)}))}()}),Object(Ge.jsx)("label",{children:"N\xfamero de D\xedas"}),Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:i,onChange:function(e){return o(e.target.value)}}),Object(Ge.jsx)("label",{children:"Total Pagado"}),Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:h,onChange:function(e){return p(e.target.value)}}),Object(Ge.jsx)("label",{className:"d-block",children:"\xbfEs Regalo?"}),Object(Ge.jsx)(ja.a,{checked:j,className:"d-block mt-1 mb-3",onChange:function(e){return b(e)}}),!j&&Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)("label",{className:"d-block",children:"M\xe9todo de Pago"}),Object(Ge.jsx)("select",{className:"form-control mb-3",value:v,onChange:function(e){return g(e.target.value)},children:He.map((function(e){return Object(Ge.jsx)("option",{value:e.value,children:e.name},e.value)}))})]}),Object(Ge.jsx)("input",{type:"submit",className:"btn btn-dark",value:"Extender Acceso"})]})})},Ya=function(e){var t,c=e.reservation;return Object(Ge.jsxs)("div",{className:"row my-2",children:[Object(Ge.jsx)("div",{className:"col col-md-3",children:c.single_class.class_type.name}),Object(Ge.jsx)("div",{className:"col col-md-2",children:function(){if(c.class_instructors&&null!==c.class_instructors)return c.class_instructors.map((function(e){var t=e.instructor;return t.name+" "+t.last_name})).join(", ")}()}),Object(Ge.jsx)("div",{className:"col col-md-2",children:d()(c.single_class.class_date).utc().format("DD MMM HH:mm")}),Object(Ge.jsx)("div",{className:"col col-md-3",children:d()(c.createdAt).format("DD MMM YYYY HH:mm:ss")}),Object(Ge.jsxs)("div",{className:"col col-md-2",children:[function(e){if(e.is_cash)return Object(Ge.jsx)("i",{className:"fas fa-money-bill"})}(c)," ",(t=c,null!==t.deletedAt?Object(Ge.jsx)("span",{className:"text-danger",children:"Cancelada"}):t.is_cash&&!t.is_paid?Object(Ge.jsx)("span",{className:"text-danger",children:"Pago en Efectivo Incompleto"}):!t.attend&&d()().isAfter(d()(t.class_date))?Object(Ge.jsx)("span",{className:"text-warning",children:"No Asisti\xf3"}):t.attend?Object(Ge.jsx)("span",{className:"text-success",children:"Exitosa"}):void 0)]})]})},qa=function(e){var t=e.paquete,c=e.canRevoke,n=e.confirmRevoke,s=Object(a.useContext)(Zt).user;return Object(Ge.jsxs)("div",{className:"row p-2 small border-bottom align-items-center mx-0",children:[Object(Ge.jsx)("div",{className:"col",children:t.purchase_id}),Object(Ge.jsx)("div",{className:"col",children:t.class_package.title}),Object(Ge.jsx)("div",{className:"col",children:d()(t.createdAt).utc().format("DD MMM YYYY HH:mm")}),Object(Ge.jsxs)("div",{className:"col",children:[t.is_gift&&Object(Ge.jsx)("i",{className:"fas fa-gift me-1"}),"admin"===s.role&&Object(Ge.jsxs)("span",{children:["$",Te(t.total_payment)," MXN"]})]}),Object(Ge.jsx)("div",{className:"col",children:null!==t.subscription_period?"".concat(d()(t.createdAt).utc().format("DD")," de cada ").concat(t.subscription_interval," ").concat("month"===t.subscription_period?"mes":"day"===t.subscription_period?"d\xeda":"a\xf1o"):d()(t.expiration_date).format("DD MMM YYYY")}),Object(Ge.jsx)("div",{className:"col",children:"cancelled"===t.status?Object(Ge.jsx)("span",{className:"badge badge-pill bg-danger",children:"Cancelada"}):"active"!==t.status||null!==t.subscription_id&&!t.admin_enabled?"active"===t.status?Object(Ge.jsx)("span",{className:"badge badge-pill bg-success",children:"Activa"}):Object(Ge.jsx)("span",{className:"badge badge-pull bg-warning",children:"Pendiente"}):Object(Ge.jsx)("span",{className:"badge badge-pill bg-success",children:"Pagada"})}),Object(Ge.jsx)("div",{className:"col",children:c&&Object(Ge.jsxs)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return n(t)},children:[Object(Ge.jsx)("i",{className:"fa fa-times"})," Cancelar"]})})]})},La=function(e){var t=e.customer,c=Object(a.useContext)(Zt),n=c.user,s=c.recoverPassword,r=t.name,i=t.last_name,l=t.birthdate,o=t.email,u=t.phone,j=t.instagram_account;return Object(Ge.jsx)(Ge.Fragment,{children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col col-md-4",children:Object(Ge.jsx)("img",{src:function(){if(t.file&&null!==t.file)return"".concat("https://citius.sfo3.digitaloceanspaces.com","/files/").concat(t.file.name,".").concat(t.file.type)}(),className:"w-100 profile-image"})}),Object(Ge.jsxs)("div",{className:"col col-md-8",children:[Object(Ge.jsxs)("h4",{className:"mb-3 pb-3 border-bottom",children:[r," ",i]}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-1",children:Object(Ge.jsx)("i",{className:"fa fa-birthday-cake"})}),Object(Ge.jsx)("div",{className:"col-11",children:d()(l).utc().format("DD MMM YYYY")})]}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-1",children:Object(Ge.jsx)("i",{className:"fa fa-envelope"})}),Object(Ge.jsx)("div",{className:"col-11",children:o})]}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-1",children:Object(Ge.jsx)("i",{className:"fa fa-phone"})}),Object(Ge.jsx)("div",{className:"col-11",children:u})]}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-1",children:"@"}),Object(Ge.jsx)("div",{className:"col-11",children:j})]}),Object(Ge.jsx)("div",{className:"row",children:Object(Ge.jsx)("div",{className:"container-fluid",children:Object(Ge.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return s(n.email)},children:"Enviar Correo para Reestablecer Contrase\xf1a"})})}),Object(Ge.jsx)("div",{className:"row mt-4",children:"admin"===n.role&&Object(Ge.jsxs)("h4",{children:["Compras Totales: ","$",Te(function(){var e=0;return t.purchases&&t.purchases.forEach((function(t){t.is_gift||(e+=parseFloat(t.total_payment))})),e}())," MXN"]})}),Object(Ge.jsx)("div",{className:"row mb-3",children:Object(Ge.jsxs)("div",{className:"col-12 col-md-6",children:[Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("span",{className:"bold",children:"Clases Disponibles: "})}),Object(Ge.jsx)("div",{className:"col-6",children:function(){if(Array.isArray(t.available_classes))return t.available_classes.length}()})]}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("span",{className:"bold",children:"Circuitos Disponibles: "})}),Object(Ge.jsx)("div",{className:"col-6",children:function(){if(Array.isArray(t.available_circuits))return t.available_circuits.length}()})]})]})})]})]})})},Ha=function(e){var t=e.invoice,c=e.customer_id,n=Object(a.useContext)(Zt).user;return Object(Ge.jsxs)("div",{className:"row mx-0 hover-light border-bottom py-2 small",children:[Object(Ge.jsx)("div",{className:"col",children:t.invoice_id}),Object(Ge.jsx)("div",{className:"col",children:t.purchase_id}),Object(Ge.jsx)("div",{className:"col",children:t.class_package.title}),!c&&Object(Ge.jsx)("div",{className:"col",children:Object(Ge.jsxs)(it.a,{to:"/myadmin/customer/".concat(t.customer_id),children:[t.customer.name," ",t.customer.last_name," "]})}),Object(Ge.jsx)("div",{className:"col",children:"admin"===n.role&&Object(Ge.jsxs)("span",{children:["$",Te(t.total_payment)]})}),Object(Ge.jsx)("div",{className:"col",children:"completed"===t.status?Object(Ge.jsx)("span",{className:"badge badge-pill bg-success",children:"Completado"}):"failed"===t.status?Object(Ge.jsx)("span",{className:"badge badge-pill bg-warning text-dark",children:"Fallido"}):Object(Ge.jsx)("span",{className:"badge badge-pull bg-secondary text-capitalize",children:t.status})}),Object(Ge.jsx)("div",{className:"col",children:d()(t.createdAt).format("DD MMM YYYY")}),Object(Ge.jsx)("div",{className:"col",children:function(){if(t.purchase&&null!==t.purchase&&t.purchase.payment_method&&null!==t.purchase.payment_method)return t.purchase.payment_method.name}()})]})},Ua=function(e){var t=e.purchase,c=e.customer_id,n=e.cancelPurchase,s=Object(a.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1];return Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s seguro que deseas revocar el acceso de la compra ",t.title,"? Esta acci\xf3n NO puede deshacerse."]}),Object(Ge.jsx)("label",{children:"Raz\xf3n"}),Object(Ge.jsx)("input",{type:"text",value:i,className:"form-control mb-3",onChange:function(e){return o(e.target.value)}}),Object(Ge.jsx)("button",{className:"btn btn-danger",onClick:function(){return n(t.purchase_id,i,c)},children:"Revocar Acceso"})]})},Fa=function(e){var t=e.circuit,c=e.handleBook;e.handleCancel,e.handleEdit;return Object(Ge.jsxs)("div",{className:"row p-2 align-items-center border-bottom",children:[Object(Ge.jsx)("div",{className:"col",children:t.available_circuit_id}),Object(Ge.jsx)("div",{className:"col",children:null!==t.usedAt?Object(Ge.jsx)("span",{className:"badge bg-success",children:"Reservado"}):Object(Ge.jsx)("span",{className:"badge bg-secondary",children:"Disponible"})}),Object(Ge.jsxs)("div",{className:"col",children:[d()(t.expiration_date).format("DD MMM YYYY"),Object(Ge.jsx)("button",{className:"btn btn-link text-secondary mx-2 py-0",children:Object(Ge.jsx)("i",{className:"fa fa-edit"})})]}),Object(Ge.jsx)("div",{className:"col",children:null!==t.usedAt&&d()(t.usedAt).format("DD MMM YYYY")}),Object(Ge.jsx)("div",{className:"col",children:null===t.usedAt?Object(Ge.jsx)("button",{className:"btn btn-outline-success me-2",onClick:function(){return c(t)},children:Object(Ge.jsx)("i",{className:"fa fa-calendar"})}):Object(Ge.jsx)("button",{className:"btn btn-outline-danger me-2",children:Object(Ge.jsx)("i",{className:"fa fa-times"})})})]})},Ba=c(56),Va=c.n(Ba),Ga=function(e,t){var c=t.type,a=t.payload;switch(c){case we:return Object(i.a)(Object(i.a)({},e),{},{circuits:a});default:return Object(i.a)({},e)}},za="/circuits",$a=function(){return Ue.get(za)},Wa={circuits:null},Ja=Object(a.createContext)(Wa),Qa=function(e){var t=e.children,c=Object(a.useReducer)(Ga,Wa),n=Object(l.a)(c,2),s=n[0],r=n[1];return Object(Ge.jsx)(Ja.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getCircuits:function(){$a().then((function(e){var t=e.data.circuits;r({type:we,payload:t})}))}}),children:t})},Xa=function(e){var t=e.available_circuit,c=Object(a.useState)(d()().format("YYYY-MM-DD")),n=Object(l.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(null),o=Object(l.a)(i,2),u=o[0],j=o[1],b=Object(a.useState)(null),m=Object(l.a)(b,2),O=m[0],h=m[1],p=Object(a.useContext)(bt).redeemCircuit,x=Object(a.useContext)(st),f=x.coaches,v=x.getCoaches,g=Object(a.useContext)(Ja),N=g.circuits,y=g.getCircuits;Object(a.useEffect)((function(){v(),y()}),[]),Object(a.useEffect)((function(){null===u&&Array.isArray(N)&&N.length>0&&j(N[0].circuit_id),null===O&&Array.isArray(f)&&f.length>0&&h(f[0].instructor_id)}),[N,f]);return Object(Ge.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(t.customer_id,t.available_circuit_id,s,u,O)},className:"container-fluid px-0",children:[Object(Ge.jsx)("label",{children:"Fecha y Hora"}),Object(Ge.jsx)(Va.a,{onChange:function(e){return r(e)},value:""===s?s:d()(s).toDate(),className:"form-control mb-3"}),Object(Ge.jsx)("label",{children:"Circuito"}),Object(Ge.jsx)("select",{className:"form-control mb-3",value:u,onChange:function(e){return j(e.target.value)},children:function(){if(Array.isArray(N))return N.map((function(e){return Object(Ge.jsx)("option",{value:e.circuit_id,children:e.name},e.circuit_id)}))}()}),Object(Ge.jsx)("label",{children:"Instructor"}),Object(Ge.jsx)("select",{className:"form-control mb-3",value:O,onChange:function(e){return h(e.target.value)},children:function(){if(Array.isArray(f))return f.map((function(e){return Object(Ge.jsxs)("option",{value:e.instructor_id,children:[e.name," ",e.last_name]},e.instructor_id)}))}()}),Object(Ge.jsx)("button",{type:"submit",className:"btn btn-accent",children:"Agendar"})]})},Ka=function(e){var t=e.customer_id,c=Object(a.useContext)(bt),n=c.customer,s=c.getCustomer,r=c.clearCustomer,i=c.extenderAcceso,l=c.deleteCustomer,o=Object(a.useContext)(Yt),d=o.paquetes,u=o.getPaquetes,j=Object(a.useContext)(Zt).user,b=Object(a.useContext)($e).modalComponent,m=Object(a.useContext)(Pt).cancelPurchase;Object(a.useEffect)((function(){return s(t),u(),r}),[]);var O=function(e){b("Precauci\xf3n",Object(Ge.jsx)(Ua,{purchase:e,customer_id:t,cancelPurchase:m}))},h=function(e){b("Agendar Circuito",Object(Ge.jsx)(Xa,{available_circuit:e}))};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("div",{className:"row pb-2 border-bottom mx-0 mb-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col col-md-6 ps-0",children:Object(Ge.jsx)("h1",{children:"Cliente"})}),Object(Ge.jsx)("div",{className:"col col-md-6 pe-0 text-end",children:!j.isManager&&Object(Ge.jsx)("button",{className:"btn btn-accent",onClick:function(){b("Agregar Acceso",Object(Ge.jsx)(Ta,{customer:n,extenderAcceso:i,paquetes:d}))},children:"+ Agregar Paquete"})})]}),Object(Ge.jsx)("div",{className:"card no-scale mb-3",children:n&&null!==n?Object(Ge.jsx)(La,{customer:n}):Object(Ge.jsx)("div",{className:"spinner-border"})}),Object(Ge.jsxs)("div",{className:"card no-scale my-3",children:[Object(Ge.jsx)("h3",{className:"mb-1",children:"Paquetes Comprados"}),Object(Ge.jsx)(ia,{headers:["# Compra","Paquete","Fecha","Precio","D\xeda de Corte / Exp","Estado","Acciones"]}),function(){if(n&&null!==n&&Array.isArray(n.purchases))return n.purchases.map((function(e){return Object(Ge.jsx)(qa,{paquete:e,canRevoke:!j.isManager&&"cancelled"!==e.status,confirmRevoke:O},e.purchase_id)}))}()]}),Object(Ge.jsxs)("div",{className:"card no-scale my-3",children:[Object(Ge.jsx)("h3",{className:"mb-1",children:"Cargos"}),Object(Ge.jsx)(ia,{headers:["# Cargo","# Membres\xeda","Paquete","Total","Estado","Fecha","Forma de Pago"]}),function(){if(n&&null!==n){var e=n.invoices;if(Array.isArray(e))return 0===e.length?Object(Ge.jsx)("p",{className:"mb-0 mx-2 mt-2",children:"No hay cargos en estas fechas."}):e.map((function(e){return Object(Ge.jsx)(Ha,{invoice:e,customer_id:t},e.invoice_id)}))}}()]}),Object(Ge.jsxs)("div",{className:"card no-scale my-3",children:[Object(Ge.jsxs)("div",{className:"row border-bottom pb-2 mb-2",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("h3",{children:"Circuitos"})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6 text-right",children:Object(Ge.jsx)("button",{className:"btn btn-accent",children:"+ Circuito"})})]}),Object(Ge.jsx)(ia,{headers:["# Circuito","Estado","Fecha de Expiraci\xf3n","Fecha Agendada","Acciones"]}),function(){if(n&&null!==n&&Array.isArray(n.available_circuits))return n.available_circuits.map((function(e){return Object(Ge.jsx)(Fa,{circuit:e,handleBook:h},e.available_circuit_id)}))}()]}),Object(Ge.jsxs)("div",{className:"card no-scale my-3",children:[Object(Ge.jsx)("h3",{children:"Reservaciones"}),Object(Ge.jsxs)("div",{className:"row bg-light border py-2 my-2",children:[Object(Ge.jsx)("div",{className:"col col-md-3 bold",children:"Clase"}),Object(Ge.jsx)("div",{className:"col col-md-2 bold",children:"Coach"}),Object(Ge.jsx)("div",{className:"col col-md-2 bold",children:"Fecha"}),Object(Ge.jsx)("div",{className:"col col-md-3 bold",children:"Reservada en"}),Object(Ge.jsx)("div",{className:"col col-md-2 bold",children:"Status"})]}),function(){if(n&&null!==n&&Array.isArray(n.class_reservations))return n.class_reservations.map((function(e){return Object(Ge.jsx)(Ya,{reservation:e},e.class_reservation_id)}))}()]}),Object(Ge.jsxs)("button",{className:"btn btn-outline-danger mt-5",onClick:function(){b("Precauci\xf3n",Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que deseas eliminar el cliente ",n.name," ",n.last_name," con el correo ",n.email,"?"]}),Object(Ge.jsx)("p",{children:"Esta acci\xf3n NO puede deshacerse."}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsxs)("button",{className:"btn btn-danger",onClick:function(){return l(t)},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar Cliente"]})}),Object(Ge.jsx)("div",{className:"col-6 text-right",children:Object(Ge.jsx)("button",{className:"btn btn-link text-secondary",onClick:Ye,children:"Cancelar"})})]})]}))},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar Cliente"]})]})},Za=function(){var e=Object(a.useContext)(Oc),t=e.class_categories,c=e.getClassCategories;Object(a.useEffect)((function(){c()}),[]);return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("div",{className:"row mb-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("h1",{children:"Categor\xedas"})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6 text-end",children:Object(Ge.jsx)(it.a,{to:"./nueva",className:"btn btn-dark",children:"+ Agregar"})})]}),Object(Ge.jsxs)("div",{className:"row mx-0 bold py-2 bg-light border mb-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-3",children:"Nombre"}),Object(Ge.jsx)("div",{className:"col-3",children:"Descripci\xf3n"}),Object(Ge.jsx)("div",{className:"col-3",children:"Handle"}),Object(Ge.jsx)("div",{className:"col-3",children:"Acciones"})]}),t&&null!==t?0===t.length?Object(Ge.jsx)("p",{children:"No hay categor\xedas disponibles."}):t.map((function(e){return Object(Ge.jsx)("div",{className:"card p-3 no-scale shadow-sm my-2",children:Object(Ge.jsxs)("div",{className:"row align-items-center",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-3",children:e.name}),Object(Ge.jsx)("div",{className:"col-12 col-md-3",children:e.description}),Object(Ge.jsxs)("div",{className:"col-12 col-md-3",children:["/",e.handle]}),Object(Ge.jsx)("div",{className:"col-12 col-md-3",children:Object(Ge.jsxs)(it.a,{to:"./".concat(e.class_category_id),className:"btn btn-outline-dark",children:[Object(Ge.jsx)("i",{className:"fa fa-edit me-2"})," Editar"]})})]})},e.class_category_id)})):Object(Ge.jsx)("div",{className:"spinner-border"})]})},en=function(e){var t=e.class_category_id,c=Object(a.useState)(!1),n=Object(l.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(null),o=Object(l.a)(i,2),d=o[0],u=o[1],j=Object(a.useContext)(Oc),b=j.class_category,m=j.getClassCategory,O=j.createClassCategory,h=j.postClassCategory,p=j.setPropiedadCategory,x=j.deleteClassCategory,f=Object(a.useContext)($e).modalComponent;Object(a.useEffect)((function(){isNaN(t)?O():m(t)}),[t]),Object(a.useEffect)((function(){if(null!==b&&b.file&&null!==b.file&&null===d){var e=new FileReader;e.onload=function(e){u(e.target.result)},e.readAsDataURL(b.file)}}),[b]);var v=function(e){var t=e.target.files[0];p("file",t)},g=function(e){e.preventDefault(),h(b)},N=function(){var e=b.idAdjunto;return e&&null!==e?isNaN(e)?Object(Ge.jsx)("img",{src:e,className:"video-form-thumbnail d-block"}):Object(Ge.jsx)("img",{src:"".concat(Ie,"/adjuntos/").concat(e),className:"video-form-thumbnail d-block"}):null!==d?Object(Ge.jsx)("img",{src:d,className:"video-form-thumbnail d-block"}):void 0};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)("div",{className:"row border-bottom pb-3 mb-3",children:Object(Ge.jsx)("div",{className:"container-fluid",children:Object(Ge.jsxs)("h1",{className:"h3",children:[isNaN(t)?"Agregar":"Editar"," Categor\xeda"]})})}),function(){if(b&&null!==b){var e=b.available,t=b.name,c=b.description,a=b.handle,n=b.is_free;return Object(Ge.jsxs)("form",{className:"card no-scale p-3",onSubmit:g,children:[Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:"\xbfDisponible?"}),Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)(ja.a,{checked:e,onChange:function(e){return p("available",e)}})})]}),Object(Ge.jsx)("label",{children:"Nombre"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:t,onChange:function(e){return p("name",e.target.value)}}),Object(Ge.jsx)("label",{children:"Descripci\xf3n"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:c,onChange:function(e){return p("description",e.target.value)}}),Object(Ge.jsx)("label",{children:"Handle"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:a,onChange:function(e){return p("handle",e.target.value)}}),Object(Ge.jsxs)("div",{className:"row my-3",children:[Object(Ge.jsxs)("div",{className:"col-4 col-md-4",children:[" ",N()]}),Object(Ge.jsxs)("div",{className:"col-8 col-md-8",children:[Object(Ge.jsx)("label",{children:"Thumbnail"}),s||isNaN(b.class_category_id)?Object(Ge.jsx)("input",{type:"file",className:"form-control mb-3",onChange:v}):Object(Ge.jsx)("button",{className:"btn btn-outline-secondary d-block",onClick:function(){return r(!0)},children:"Cambiar Imagen"})]})]}),Object(Ge.jsxs)("div",{className:"row align-items-center",children:[Object(Ge.jsx)("div",{className:"col-md-6 bold",children:"\xbfEs gratis?"}),Object(Ge.jsx)("div",{className:"col-md-6",children:Object(Ge.jsx)(ja.a,{checked:n,onChange:function(e){return p("is_free",e)}})})]}),Object(Ge.jsxs)("div",{className:"row mt-4",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Guardar"})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)(it.a,{to:"../",className:"text-secondary",children:"Cancelar"})})]})]})}}(),Object(Ge.jsxs)("div",{className:"mt-5",children:[Object(Ge.jsx)("h5",{className:"border-bottom pb-2 mb-3",children:"Precauci\xf3n"}),Object(Ge.jsxs)("button",{className:"btn btn-danger",onClick:function(){f("Precauci\xf3n",Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que deseas eliminar la categor\xeda ",b.name,"? Esta acci\xf3n NO puede deshacerse y podr\xeda traer consecuencias con la fecha de vigencia de las alumnas."]}),Object(Ge.jsxs)("p",{children:[Object(Ge.jsx)("b",{children:"Usar s\xf3lo en emergencia: "})," solucionar la consecuencia podr\xeda generar semanas de trabajo y cargo extra de desarrollo."]}),Object(Ge.jsxs)("button",{className:"btn btn-danger",onClick:function(){return x(t)},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]}))},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]})]})},tn=function(e){var t=e.paquete,c=e.action,a=e.buttonTitle,n=e.className,s=function(){return t.sale_price&&null!==t.sale_price},r=t.title,i=t.sale_price,l=t.price,o=t.short_description,d=t.is_special_event;return Object(Ge.jsx)("div",{className:"col-12 col-md-6 col-lg-4 my-3",children:Object(Ge.jsxs)("div",{className:"vibe-card p-3 package-card shadow-sm no-scale position-relative",children:[i&&null!==i&&Object(Ge.jsx)("div",{className:"bg-danger text-white sale-ribbon p-2 px-4 shadow-sm",children:"SALE"}),Object(Ge.jsx)("h3",{className:d?"text-warning":"",children:r}),Object(Ge.jsx)("p",{className:"border-bottom pb-2 mb-0",children:o}),Object(Ge.jsxs)("div",{className:"position-absolute",style:{width:"94%",bottom:"1.2rem"},children:[Object(Ge.jsxs)("p",{children:[Object(Ge.jsx)("b",{children:"Duraci\xf3n:"})," ",t.package_days," d\xedas"]}),Object(Ge.jsxs)("h4",{className:"mb-3",children:[s()&&Object(Ge.jsxs)("span",{className:"strike-through d-inline-block me-3 text-danger",children:["$",Te(l)]}),"$",Te(s()?i:l)," MXN"]}),Object(Ge.jsx)("button",{className:n||"btn btn-accent bold btn-block w-100",onClick:c,children:a||"Comprar"})]})]})})},cn=function(){var e=Object(a.useContext)(ft),t=e.online,c=e.presenciales,n=e.getOnline,s=e.getPresenciales,r=e.addToHome,i=e.deleteFromHome,l=Object(a.useContext)(Yt),o=l.paquetes,d=l.getPaquetes,u=Object(a.useContext)($e).modalComponent;Object(a.useEffect)((function(){d(),n(),s()}),[]);var j=function(e,t){u("Precauci\xf3n",Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que deseas eliminar del home el paquete ",e.title,"?"]}),Object(Ge.jsx)("button",{className:"btn btn-danger",onClick:function(){return i(e.package_class_id,t)},children:"Eliminar"})]}))};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("div",{className:"row border-bottom pb-3 mb-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("h3",{children:"Paquetes Online"})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6 text-end",children:Object(Ge.jsx)("button",{className:"btn btn-dark",onClick:function(){u("Agregar Paquete Online",Object(Ge.jsx)("div",{children:o.filter((function(e){return!t.find((function(t){return t.package_class_id===e.package_class_id}))})).map((function(e){return Object(Ge.jsxs)("div",{className:"row my-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:e.title}),Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return r(e.package_class_id,"online")},children:"+ Agregar"})})]})}))}))},children:"+ Agregar"})})]}),Object(Ge.jsx)("div",{className:"row",children:function(){if(t&&null!==t)return t.map((function(e){return Object(Ge.jsx)(tn,{paquete:e,action:function(){return j(e,"online")},buttonTitle:"Eliminar",className:"btn btn-outline-danger"},e.package_class_id)}))}()}),Object(Ge.jsxs)("div",{className:"row mt-5 border-bottom pb-3 mb-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("h3",{children:"Paquetes Presenciales"})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6 text-end",children:Object(Ge.jsx)("button",{className:"btn btn-dark",onClick:function(){u("Agregar Paquete Presencial",Object(Ge.jsx)("div",{children:o.filter((function(e){return!c.find((function(t){return t.package_class_id===e.package_class_id}))})).map((function(e){return Object(Ge.jsxs)("div",{className:"row my-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:e.title}),Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return r(e.package_class_id,"presencial")},children:"+ Agregar"})})]})}))}))},children:"+ Agregar"})})]}),Object(Ge.jsx)("div",{className:"row",children:function(){if(c&&null!==c)return c.map((function(e){return Object(Ge.jsx)(tn,{paquete:e,action:function(){return j(e,"presencial")},buttonTitle:"Eliminar",className:"btn btn-outline-danger"},e.package_class_id)}))}()})]})},an=function(e){var t=e.class_type_id,c=Object(a.useContext)(ic),n=c.class_type,s=c.getClassType,r=c.createClassType,i=c.setPropiedadClassType,l=c.postClassType;Object(a.useEffect)((function(){isNaN(t)?r():s(t)}),[t]);var o=function(e){e.preventDefault(),l(n)};return Object(Ge.jsx)("div",{className:"container-fluid px-0",children:function(){if(n&&null!==n){var e=n.name,t=n.description,c=n.icon,a=n.color,s=n.mapa,r=String(s).split(",").map((function(e){return parseInt(e)})).filter((function(e){return!isNaN(e)}));return Object(Ge.jsxs)("form",{onSubmit:o,children:[Object(Ge.jsx)("label",{children:"Nombre"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:e,onChange:function(e){return i("name",e.target.value)}}),Object(Ge.jsx)("label",{children:"Descripci\xf3n"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:t,onChange:function(e){return i("description",e.target.value)}}),Object(Ge.jsx)("label",{children:"Icono"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:c,onChange:function(e){return i("icon",e.target.value)}}),Object(Ge.jsx)("label",{children:"Color"}),Object(Ge.jsx)("input",{type:"color",className:"form-control mb-3",value:a,onChange:function(e){return i("color",e.target.value)}}),Object(Ge.jsx)("label",{children:"Lugares"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",placeholder:"N\xfamero de columnas por fila, separado por comas",value:s,onChange:function(e){return i("mapa",e.target.value)}}),r.length>0&&Object(Ge.jsx)(Aa,{rows:r,icon:c}),Object(Ge.jsx)("button",{type:"submit",className:"btn btn-dark w-100 mt-3",children:"Guardar"})]})}}()})},nn=function(e){var t=e.category,c=e.editClassType,a=e.confirmDelete;return Object(Ge.jsx)("div",{className:"card p-2 px-3 no-scale shadow-sm br-0",children:Object(Ge.jsxs)("div",{className:"row align-items-center small",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-3",children:t.name}),Object(Ge.jsx)("div",{className:"col-12 col-md-2",children:Object(Ge.jsx)("i",{className:t.icon})}),Object(Ge.jsx)("div",{className:"col-12 col-md-2",children:Object(Ge.jsx)("div",{className:"color-legend",style:{backgroundColor:t.color}})}),Object(Ge.jsx)("div",{className:"col-12 col-md-2",children:t.mapa}),Object(Ge.jsxs)("div",{className:"col-12 col-md-3",children:[Object(Ge.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(){return c(t.class_type_id)},children:[Object(Ge.jsx)("i",{className:"fa fa-edit me-2"})," Editar"]}),Object(Ge.jsxs)("button",{className:"btn btn-outline-danger btn-sm mx-3",onClick:function(){return a(t)},children:[Object(Ge.jsx)("i",{className:"fa fa-trash me-2"})," Eliminar"]})]})]})},t.class_category_id)},sn=function(){var e=Object(a.useContext)(ic),t=e.class_types,c=e.getClassTypes,n=e.deleteClassType,s=Object(a.useContext)($e).modalComponent;Object(a.useEffect)((function(){c()}),[]);var r=function(e){s("Editar Clase",Object(Ge.jsx)(an,{class_type_id:e}))},i=function(e){s("Eliminar Clase",Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("p",{children:['\xbfEst\xe1s seguro que deseas eliminar el tipo de clase "',e.name,'"? Esta acci\xf3n NO puede deshacerse.']}),Object(Ge.jsxs)("button",{className:"btn btn-danger",onClick:function(){return n(e.class_type_id)},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]}))};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("div",{className:"row mb-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("h1",{children:"Tipos de Clase"})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6 text-end",children:Object(Ge.jsx)("button",{className:"btn btn-accent",onClick:function(){s("Agregar Clase",Object(Ge.jsx)(an,{class_type_id:"nuevo"}))},children:"+ Agregar"})})]}),Object(Ge.jsxs)("div",{className:"row bold mx-0 py-2 bg-light border align-items-center",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-3",children:"Nombre"}),Object(Ge.jsx)("div",{className:"col-12 col-md-2",children:"Icono"}),Object(Ge.jsx)("div",{className:"col-12 col-md-2",children:"Color"}),Object(Ge.jsx)("div",{className:"col-12 col-md-2",children:"Mapa"}),Object(Ge.jsx)("div",{className:"col-12 col-md-3",children:"Acciones"})]}),t&&null!==t?0===t.length?Object(Ge.jsx)("p",{children:"No hay tipos de clase disponibles."}):t.map((function(e){return Object(Ge.jsx)(nn,{category:e,editClassType:r,confirmDelete:i},e.class_type_id)})):Object(Ge.jsx)("div",{className:"spinner-border"})]})},rn=function(e){var t=e.descuento,c=e.editarDescuento,a=e.confirmDelete,n=t.discount_id,s=t.title,r=t.code,i=t.amount,l=t.expiration_date,o=t.is_percent;return Object(Ge.jsx)("div",{className:"row",children:Object(Ge.jsx)("div",{className:"card no-scale shadow-sm p-3",children:Object(Ge.jsxs)("div",{className:"row align-items-center",children:[Object(Ge.jsx)("div",{className:"col",children:r}),Object(Ge.jsxs)("div",{className:"col",children:[!o&&"$",i,o&&"%"]}),Object(Ge.jsx)("div",{className:"col",children:d()(l).format("DD MMM YYYY")}),Object(Ge.jsxs)("div",{className:"col",children:[Object(Ge.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(){return c(n)},children:[Object(Ge.jsx)("i",{className:"fa fa-edit"})," Editar"]}),Object(Ge.jsxs)("button",{className:"btn btn-outline-danger btn-sm mx-3",onClick:function(){return a({discount_id:n,title:s,code:r})},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]})]})})})},ln=function(e){var t=e.discount_id,c=Object(a.useState)(1),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)(Dc),u=o.descuento,j=o.getDescuento,b=o.createDescuento,m=o.postDescuento,O=o.setPropiedadDescuento;Object(a.useEffect)((function(){isNaN(t)?b():j(t)}),[t]);var h=function(e){e.preventDefault(),m(Object(i.a)(Object(i.a)({},u),{},{isPercent:1===s}))};return Object(Ge.jsx)("div",{className:"container-fluid px-0",children:function(){if(u&&null!==u){var e=u.code,t=u.description,c=u.start_date,a=u.expiration_date,n=u.available,i=u.amount,l=u.limit_per_customer,o=u.first_invoice_only,j=u.first_purchase_only;return Object(Ge.jsxs)("form",{onSubmit:h,children:[Object(Ge.jsxs)("div",{className:"row mb-3",children:[Object(Ge.jsx)("div",{className:"col-6",children:"Disponible"}),Object(Ge.jsx)("div",{className:"col-6 text-end",children:Object(Ge.jsx)(ja.a,{checked:n,onChange:function(e){return O("available",e)}})})]}),Object(Ge.jsx)("label",{children:"C\xf3digo"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:e,onChange:function(e){return O("code",e.target.value)}}),Object(Ge.jsx)("label",{children:"Descripci\xf3n"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:t,onChange:function(e){return O("description",e.target.value)}}),Object(Ge.jsx)("label",{children:"Tipo de Descuento"}),Object(Ge.jsxs)("select",{className:"form-control mb-3",value:s,onChange:function(e){r(e.target.value),O("is_percent",1===e.target.value)},children:[Object(Ge.jsx)("option",{value:"1",children:"Porcentaje (%)"}),Object(Ge.jsx)("option",{value:"0",children:"Cantidad Fija ($)"})]}),Object(Ge.jsx)("label",{children:"Cantidad"}),Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:i,onChange:function(e){return O("amount",e.target.value)}}),Object(Ge.jsx)("label",{children:"Fecha Inicio"}),Object(Ge.jsx)("input",{type:"date",className:"form-control mb-3",value:d()(c).utc().format("YYYY-MM-DD"),onChange:function(e){return O("start_date",e.target.value)}}),Object(Ge.jsx)("label",{children:"Fecha Fin"}),Object(Ge.jsx)("input",{type:"date",className:"form-control mb-3",value:d()(a).utc().format("YYYY-MM-DD"),onChange:function(e){return O("expiration_date",e.target.value)}}),Object(Ge.jsx)("label",{children:"Cantidad por Cliente"}),Object(Ge.jsx)("input",{type:"number",className:"form-control mb-3",value:l,onChange:function(e){return O("limit_per_customer",e.target.value)}}),Object(Ge.jsxs)("div",{className:"row mb-3",children:[Object(Ge.jsx)("div",{className:"col-6",children:"S\xf3lo para primer pago"}),Object(Ge.jsx)("div",{className:"col-6 text-end",children:Object(Ge.jsx)(ja.a,{checked:o,onChange:function(e){return O("first_invoice_only",e)}})})]}),Object(Ge.jsxs)("div",{className:"row mb-3",children:[Object(Ge.jsx)("div",{className:"col-6",children:"S\xf3lo para clientes nuevos"}),Object(Ge.jsx)("div",{className:"col-6 text-end",children:Object(Ge.jsx)(ja.a,{checked:j,onChange:function(e){return O("first_purchase_only",e)}})})]}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("button",{type:"submit",className:"btn btn-dark w-100 mt-2",children:"Guardar"})}),Object(Ge.jsx)("div",{className:"col-6 text-right",children:Object(Ge.jsx)("button",{className:"btn btn-link text-secondary mt-2",onClick:function(e){e.preventDefault(),Ye()},children:"Cancelar"})})]})]})}}()})},on=function(){var e=Object(a.useContext)(Dc),t=e.descuentos,c=e.getDescuentosAdmin,n=e.deleteDescuento,s=Object(a.useContext)($e).modalComponent;Object(a.useEffect)((function(){c()}),[]);var r=function(e){s("Editar Descuento",Object(Ge.jsx)(ln,{discount_id:e}))},i=function(e){s("Eliminar Descuento",Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que quieres eliminar el descuento ",e.title," -"," ",e.code,"? Esta acci\xf3n NO puede deshacerse."]}),Object(Ge.jsxs)("button",{className:"btn btn-danger",onClick:function(){return n(e.discount_id)},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]}))};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("div",{className:"row mb-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("h1",{children:"Descuentos"})}),Object(Ge.jsx)("div",{className:"col-6 text-end",children:Object(Ge.jsx)("button",{className:"btn btn-accent",onClick:function(){s("Agregar Descuento",Object(Ge.jsx)(ln,{discount_id:"nuevo"}))},children:"+ Agregar"})})]}),Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsxs)("div",{className:"row bold py-2 bg-light border",children:[Object(Ge.jsx)("div",{className:"col",children:"C\xf3digo"}),Object(Ge.jsx)("div",{className:"col",children:"Cantidad"}),Object(Ge.jsx)("div",{className:"col",children:"Fecha de Expiraci\xf3n"}),Object(Ge.jsx)("div",{className:"col",children:"Acciones"})]}),t&&null!==t?0===t.length?Object(Ge.jsx)("p",{children:"No hay descuentos disponibles."}):t.map((function(e){return Object(Ge.jsx)(rn,{descuento:e,confirmDelete:i,editarDescuento:r},e.discount_id)})):Object(Ge.jsx)("div",{className:"spinner-border"})]})]})},dn=function(){var e=Object(a.useContext)(Yt),t=e.paquetes,c=e.getPaquetesEspecialesAdmin,n=e.deletePaquete,s=Object(a.useContext)($e).modalComponent;Object(a.useEffect)((function(){c()}),[]);var r=function(e){s("Precauci\xf3n",Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s segura que deseas eliminar el paquete ",e.title,"? Esta acci\xf3n NO puede deshacerse."]}),Object(Ge.jsx)("button",{className:"btn btn-danger",onClick:function(){return n(e.class_package_id)},children:"Eliminar"})]}))};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)("h1",{className:"border-bottom pb-3 mb-3",children:"Paquetes Especiales"}),Object(Ge.jsxs)("div",{className:"row bg-light border py-2 mx-0 bold",children:[Object(Ge.jsx)("div",{className:"col col-md-3",children:"T\xedtulo"}),Object(Ge.jsx)("div",{className:"col col-md-3",children:"Descripci\xf3n Corta"}),Object(Ge.jsx)("div",{className:"col col-md-3",children:"Precio"}),Object(Ge.jsx)("div",{className:"col col-md-3",children:"Acciones"})]}),t&&null!==t?t.map((function(e){return Object(Ge.jsx)(oa,{paquete:e,confirmDelete:r},e.class_package_id)})):Object(Ge.jsx)("div",{className:"spinner-border"})]})},un=function(e){var t=e.package_id,c=Object(a.useContext)(Yt),n=c.paquete,s=c.asistentes,r=c.getAsistentesEspecial;Object(a.useEffect)((function(){r(t)}),[]);return Object(Ge.jsxs)("div",{className:"contiainer-fluid",children:[Object(Ge.jsxs)("div",{className:"row pb-3 mb-3 border-bottom mx-0",children:[Object(Ge.jsx)("div",{className:"col col-md-6",children:Object(Ge.jsx)("h1",{children:"Paquete Especial"})}),Object(Ge.jsx)("div",{className:"col col-md-6 text-end"})]}),Object(Ge.jsx)("div",{className:"card p-3 no-scale",children:n&&null!==n?Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsx)("p",{children:n.title}),Object(Ge.jsx)("p",{children:n.description})]}):Object(Ge.jsx)("div",{className:"spinner-border"})}),Object(Ge.jsxs)("div",{className:"row bold bg-light border py-2 mt-4 mb-2 mx-0",children:[Object(Ge.jsx)("div",{className:"col col-md-4",children:"Nombre"}),Object(Ge.jsx)("div",{className:"col col-md-4",children:"Tel\xe9fono"}),Object(Ge.jsx)("div",{className:"col col-md-4",children:"Acciones"})]}),function(){if(s&&null!==s)return 0===s.length?Object(Ge.jsx)("p",{children:"A\xfan no hay asistentes registrados"}):s.map((function(e){return Object(Ge.jsx)(ka,{asistente:e,is_special_event:!0},e.class_reservation_id)}))}()]})},jn=function(e){var t=e.customer_id,c=Object(a.useContext)(bt),n=c.spinner,s=c.customer,r=c.getCustomer,i=c.postCustomer,l=c.createCustomer,o=c.setPropiedadCustomer;Object(a.useEffect)((function(){isNaN(t)?l():r(t)}),[]);var d=function(e){e.preventDefault(),i(s)};return Object(Ge.jsx)("div",{children:s&&null!==s?Object(Ge.jsxs)("form",{onSubmit:d,children:[Object(Ge.jsx)("label",{children:"Nombre"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:s.name,onChange:function(e){return o("name",e.target.value)}}),Object(Ge.jsx)("label",{children:"Apellidos"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:s.last_name,onChange:function(e){return o("last_name",e.target.value)}}),Object(Ge.jsx)("label",{children:"Correo Electr\xf3nico"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:s.email,onChange:function(e){return o("email",e.target.value)}}),Object(Ge.jsx)("label",{children:"Tel\xe9fono"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:s.phone,onChange:function(e){return o("phone",e.target.value)}}),Object(Ge.jsx)("label",{children:"Instagram"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:s.instagram,onChange:function(e){return o("instagram",e.target.value)}}),Object(Ge.jsx)("label",{children:"\xbfC\xf3mo te enteraste de Citius?"}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",value:s.signup_reason,onChange:function(e){return o("signup_reason",e.target.value)}}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("button",{className:"btn btn-accent",children:n?Object(Ge.jsx)("div",{className:"spinner-border"}):"Guardar"})}),Object(Ge.jsx)("div",{className:"col-6 text-right",children:Object(Ge.jsx)(it.a,{to:"/myadmin/clientes",className:"btn btn-link text-secondary",children:"Cancelar"})})]})]}):Object(Ge.jsx)("div",{className:"spinner-border"})})},bn=function(e){var t=e.customer_id;return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)(ga,{title:"".concat(isNaN(t)?"Agregar":"Editar"," Cliente")}),Object(Ge.jsx)("div",{className:"card no-scale",children:Object(Ge.jsx)(jn,{customer_id:t})})]})},mn=function(e){var t=e.purchase,c=Object(a.useContext)(Zt).user;return Object(Ge.jsxs)("div",{className:"row mx-0 hover-light border-bottom py-2 small",children:[Object(Ge.jsx)("div",{className:"col",children:t.purchase_id}),Object(Ge.jsx)("div",{className:"col",children:t.class_package.title}),Object(Ge.jsx)("div",{className:"col",children:Object(Ge.jsxs)(it.a,{to:"/myadmin/customer/".concat(t.customer_id),children:[1===t.customer.invoices.length?Object(Ge.jsx)("i",{className:"fa fa-star me-2"}):"",t.customer.name," ",t.customer.last_name," "]})}),Object(Ge.jsx)("div",{className:"col",children:"admin"===c.role&&Object(Ge.jsxs)("span",{children:["$",Te(t.total_payment)]})}),Object(Ge.jsx)("div",{className:"col",children:"active"===t.status?Object(Ge.jsx)("span",{className:"badge badge-pill bg-success",children:"Completada"}):"pending"===t.status?Object(Ge.jsx)("span",{className:"badge badge-pill bg-warning text-dark",children:"Pendiente"}):Object(Ge.jsx)("span",{className:"badge badge-pull bg-secondary text-capitalize",children:t.status})}),Object(Ge.jsx)("div",{className:"col",children:d()(t.createdAt).format("DD MMM YYYY")}),Object(Ge.jsx)("div",{className:"col",children:function(){if(t.payment_method&&null!==t.payment_method)return t.payment_method.name}()})]})},On=function(e){var t=e.modifier,c=Object(a.useState)(1),n=Object(l.a)(c,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){t(s)}),[s]),Object(Ge.jsxs)("div",{className:"container-fluid text-right px-0 mt-3",children:[Object(Ge.jsx)("button",{className:"btn btn-light border mx-2",onClick:function(){s>1&&r(s-1)},children:Object(Ge.jsx)("i",{className:"fa fa-chevron-left"})}),s,Object(Ge.jsx)("button",{className:"btn btn-light border mx-2",onClick:function(){return r(s+1)},children:Object(Ge.jsx)("i",{className:"fa fa-chevron-right"})})]})},hn=function(){var e=Object(a.useState)(1),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(""),u=Object(l.a)(d,2),j=u[0],b=u[1],m=Object(a.useState)(""),O=Object(l.a)(m,2),h=O[0],p=O[1],x=Object(a.useState)(""),f=Object(l.a)(x,2),v=f[0],g=f[1],N=Object(a.useContext)(Pt),y=N.spinner,C=N.purchases,_=N.getPurchases;Object(a.useEffect)((function(){""===v||""===h||y||E()}),[v,h,c,j,i]);var E=function(){_(v,h,{page:c,status:j,query:i})};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)(Ca,{title:"Pedidos",callback:function(e,t){g(e),p(t)}}),Object(Ge.jsx)("div",{className:"container-fluid px-0",children:Object(Ge.jsx)("input",{type:"text",value:i,className:"form-control mb-3",onChange:function(e){return o(e.target.value)},placeholder:"Buscar por nombre o correo electr\xf3nico..."})}),Object(Ge.jsxs)("div",{className:"card no-scale p-3 mb-3 shadow-sm",children:[Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsx)("button",{className:"btn btn-".concat(""===j?"primary":"light"," border br-0"),onClick:function(){return b("")},children:"Todo"}),Object(Ge.jsx)("button",{className:"btn btn-".concat("active"===j?"primary":"light"," border br-0"),onClick:function(){return b("active")},children:"Activos"}),Object(Ge.jsx)("button",{className:"btn btn-".concat("cancelled"===j?"primary":"light"," border br-0"),onClick:function(){return b("cancelled")},children:"Cancelados"}),Object(Ge.jsx)("button",{className:"btn btn-".concat("pending"===j?"primary":"light"," border br-0"),onClick:function(){return b("pending")},children:"Pendientes"})]}),Object(Ge.jsx)(ia,{headers:["#","Paquete","Cliente","Precio","Estado","Fecha","Forma de Pago"]}),Array.isArray(C)?0===C.length?Object(Ge.jsx)("p",{className:"mb-0 mx-2 mt-2",children:"No hay pedidos en estas fechas."}):C.map((function(e){return Object(Ge.jsx)(mn,{purchase:e},e.purchase_id)})):Object(Ge.jsx)("div",{className:"spinner-border mt-3"}),Object(Ge.jsx)(On,{modifier:n})]})]})},pn=function(e,t){var c=t.type,a=t.payload;switch(c){case Ae:return Object(i.a)(Object(i.a)({},e),{},{users:a});default:return Object(i.a)({},e)}},xn={users:null,user:null},fn=Object(a.createContext)(xn),vn=function(e){var t=e.children,c=Object(a.useReducer)(pn,xn),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e).success,d=function(e){$t(e).then((function(e){var t=e.data.users;r({type:Ae,payload:t})}))};return Object(Ge.jsx)(fn.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getUsers:d,createUser:function(e,t){Jt(e,t).then((function(){d(),Ye(),o("Usuario creado con \xe9xito.")}))},updateUser:function(e,t){Qt(e,t).then((function(){d(),Ye(),o("Usuario actualizado con \xe9xito.")}))},deleteUser:function(e){Xt(e).then((function(){d(),Ye(),o("Usuario elminado con \xe9xito.")}))}}),children:t})},gn=function(e){var t=e.user,c=Object(a.useState)("admin"),n=Object(l.a)(c,2),s=n[0],r=n[1],i=Object(a.useContext)(fn).updateUser;return Object(Ge.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(t.user_id,s)},children:[null!==t&&Object(Ge.jsx)("p",{children:t.customer.email}),Object(Ge.jsx)("label",{children:"Rol"}),Object(Ge.jsxs)("select",{className:"form-control mb-3",value:s,onChange:function(e){return r(e.target.value)},children:[Object(Ge.jsx)("option",{value:"admin",children:"Admin"}),Object(Ge.jsx)("option",{value:"manager",children:"Manager"}),Object(Ge.jsx)("option",{value:"coach",children:"Coach"})]}),Object(Ge.jsxs)("div",{className:"row mt-3",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("button",{type:"submit",className:"btn btn-accent",children:"Guardar"})}),Object(Ge.jsx)("div",{className:"col-6 text-right",children:Object(Ge.jsx)("button",{type:"button",onClick:Ye,className:"btn btn-link text-secondary",children:"Cancelar"})})]})]})},Nn=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)("admin"),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(""),u=Object(l.a)(d,2),j=u[0],b=u[1],m=Object(a.useState)(""),O=Object(l.a)(m,2),h=O[0],p=O[1],x=Object(a.useContext)(bt),f=x.customers,v=x.getAllCustomers,g=Object(a.useContext)(fn).createUser;Object(a.useEffect)((function(){""!==h&&v({query:h})}),[h]),Object(a.useEffect)((function(){b(null!==c?c.email:"")}),[c]);return Object(Ge.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(j,i)},children:[Object(Ge.jsx)("label",{children:"Rol"}),Object(Ge.jsxs)("select",{className:"form-control mb-3",value:i,onChange:function(e){return o(e.target.value)},children:[Object(Ge.jsx)("option",{value:"admin",children:"Admin"}),Object(Ge.jsx)("option",{value:"manager",children:"Manager"}),Object(Ge.jsx)("option",{value:"coach",children:"Coach"})]}),Object(Ge.jsx)("p",{children:"Buscar usuario por nombre o correo."}),Object(Ge.jsx)("input",{type:"text",className:"form-control mb-3",placeholder:"Buscar...",value:h,onChange:function(e){return p(e.target.value)}}),null!==c?Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("div",{className:"row mx-0 small align-items-center my-4",children:[Object(Ge.jsx)("div",{className:"col",children:c.name}),Object(Ge.jsx)("div",{className:"col",children:c.email}),Object(Ge.jsx)("div",{className:"col text-right",children:Object(Ge.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){return n(null)},children:Object(Ge.jsx)("i",{className:"fa fa-trash"})})})]}),Object(Ge.jsxs)("div",{className:"row mt-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("button",{className:"btn btn-accent",children:"Guardar"})}),Object(Ge.jsx)("div",{className:"col-6 text-right",children:Object(Ge.jsx)("button",{className:"btn btn-link text-secondary",children:"Cancelar"})})]})]}):""!==j?Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("div",{className:"row my-3 mx-0",children:[Object(Ge.jsx)("div",{className:"col-6",children:j}),Object(Ge.jsx)("div",{className:"col-6 text-right",children:Object(Ge.jsx)("button",{className:"btn btn-outline-danger",children:Object(Ge.jsx)("i",{className:"fa fa-trash"})})})]}),Object(Ge.jsxs)("div",{className:"row mt-3 align-items-center",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("button",{type:"submit",className:"btn btn-accent",children:"Guardar"})}),Object(Ge.jsx)("div",{className:"col-6 text-right",children:Object(Ge.jsx)("button",{type:"button",onClick:Ye,className:"btn btn-link text-secondary",children:"Cancelar"})})]})]}):f&&null!==f?0===f.length&&""!==h?Object(Ge.jsx)("button",{className:"btn btn-outline-secondary my-3",onClick:function(){return b(h)},children:"+ Invitar"}):f.map((function(e){return Object(Ge.jsxs)("div",{className:"row align-items-center py-2 small hover-light border-top",children:[Object(Ge.jsxs)("div",{className:"col col-md-4",children:[e.name," ",e.last_name]}),Object(Ge.jsx)("div",{className:"col col-md-4",children:e.email}),Object(Ge.jsx)("div",{className:"col col-md-4 text-end",children:Object(Ge.jsx)("button",{className:"btn btn-outline-dark btn-sm",onClick:function(){return n(e)},children:"+"})})]},e.customer_id)})):void 0]})},yn=function(e){var t=e.user,c=e.deleteUser,a=e.editUser;return Object(Ge.jsxs)("div",{className:"row py-2 small hover-light border-bottom align-items-center",children:[Object(Ge.jsxs)("div",{className:"col",children:[t.customer.name," ",t.customer.last_name]}),Object(Ge.jsx)("div",{className:"col",children:t.customer.email}),Object(Ge.jsx)("div",{className:"col text-capitalize",children:t.role}),Object(Ge.jsxs)("div",{className:"col",children:[Object(Ge.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(){return a(t)},children:[Object(Ge.jsx)("i",{className:"fa fa-edit"})," Editar"]}),Object(Ge.jsxs)("button",{className:"btn btn-outline-danger mx-3 btn-sm",onClick:function(){return c(t)},children:[Object(Ge.jsx)("i",{className:"fa fa-trash"})," Eliminar"]})]})]})},Cn=function(){var e=Object(a.useContext)(fn),t=e.users,c=e.getUsers,n=e.deleteUser,s=Object(a.useContext)($e).modalComponent,r=function(e){s("Editar Usuario",Object(Ge.jsx)(gn,{user:e}))},i=function(e){s("Eliminar Usuario",Object(Ge.jsxs)("div",{children:[Object(Ge.jsxs)("p",{children:["\xbfEst\xe1s seguro que deseas eliminar al usuario ",e.customer.email,"?"]}),Object(Ge.jsx)("button",{className:"btn btn-danger",onClick:function(){return n(e.user_id)},children:"Eliminar"})]}))};return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)(ga,{title:"Usuarios",onClick:function(){s("Agregar Usuario",Object(Ge.jsx)(Nn,{}))}}),Object(Ge.jsxs)("div",{className:"card p-2 no-scale shadow",children:[Object(Ge.jsx)(ia,{headers:["Nombre","Correo Electr\xf3nico","Rol","Acciones"]}),Object(Ge.jsx)("div",{className:"container-fluid",children:function(){if(Array.isArray(t))return t.map((function(e){return Object(Ge.jsx)(yn,{user:e,editUser:r,deleteUser:i},e.user_id)}))}()}),Object(Ge.jsx)(On,{modifier:c})]})]})},_n=function(){var e=Object(a.useContext)(Ja),t=e.circuits,c=e.getCircuits;Object(a.useEffect)((function(){c()}),[]);return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)(ga,{title:"Circuitos"}),Object(Ge.jsxs)("div",{className:"card p-2 no-scale shadow-sm",children:[Object(Ge.jsx)(ia,{headers:["# Circuito","Nombre","Descripcion"]}),function(){if(Array.isArray(t))return t.map((function(e){return Object(Ge.jsxs)("div",{className:"row p-2",children:[Object(Ge.jsx)("div",{className:"col",children:e.circuit_id}),Object(Ge.jsx)("div",{className:"col",children:e.name}),Object(Ge.jsx)("div",{className:"col",children:e.description})]})}))}()]})]})},En=function(){return Object(Ge.jsxs)(it.b,{children:[Object(Ge.jsx)(la,{path:"/clientes"}),Object(Ge.jsx)(bn,{path:"/clientes/:customer_id"}),Object(Ge.jsx)(Ka,{path:"/customer/:customer_id"}),Object(Ge.jsx)(da,{path:"/paquetes"}),Object(Ge.jsx)(ma,{path:"/paquetes/:package_class_id"}),Object(Ge.jsx)(Na,{path:"/clases/*",default:!0}),Object(Ge.jsx)(_a,{path:"/asistentes"}),Object(Ge.jsx)(wa,{path:"/asistentes/:single_class_id"}),Object(Ge.jsx)(Sa,{path:"/ubicaciones"}),Object(Ge.jsx)(Ra,{path:"/coaches"}),Object(Ge.jsx)(Za,{path:"/categorias"}),Object(Ge.jsx)(en,{path:"/categorias/:class_category_id"}),Object(Ge.jsx)(sn,{path:"/tipos"}),Object(Ge.jsx)(cn,{path:"/home"}),Object(Ge.jsx)(on,{path:"/descuentos"}),Object(Ge.jsx)(dn,{path:"/especiales"}),Object(Ge.jsx)(un,{path:"/especiales/:package_id"}),Object(Ge.jsx)(hn,{path:"/orders"}),Object(Ge.jsx)(Cn,{path:"/users"}),Object(Ge.jsx)(_n,{path:"/circuitos"})]})},kn=c(18),An=c.n(kn),wn=function(){var e=Object(a.useContext)(Yc),t=e.income,c=e.payment_methods,n=e.getIngresos;Object(a.useEffect)((function(){n()}),[]);return Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsx)(Ca,{title:"Ingresos",callback:function(e,t){n(e,t)}}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsxs)("div",{className:"col-12 col-md-6",children:[Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsxs)("div",{className:"card shadow-sm p-3 no-scale",children:[Object(Ge.jsx)("h3",{children:"Ingresos Totales"}),t&&null!==t?Object(Ge.jsxs)("h4",{className:"h1 normal",children:["$",Te(t.total)]}):Object(Ge.jsx)("div",{className:"spinner-border"})]})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsxs)("div",{className:"card shadow-sm p-3 no-scale",children:[Object(Ge.jsx)("h3",{children:"Pagos Totales"}),t&&null!==t?Object(Ge.jsx)("h4",{className:"h1 normal",children:t.payments}):Object(Ge.jsx)("div",{className:"spinner-border"})]})})]}),Object(Ge.jsx)("div",{className:"row mt-3",children:Object(Ge.jsx)("div",{className:"container-fluid",children:Object(Ge.jsxs)("div",{className:"card shadow-sm p-3 no-scale pb-4",children:[Object(Ge.jsx)("h3",{children:"M\xe9todos de Pago"}),Object(Ge.jsx)(ia,{headers:["Nombre","Pagos","Total"]}),function(){if(c&&null!==c)return c.map((function(e){return Object(Ge.jsxs)("div",{className:"row p-2 mx-0 align-items-center border-bottom",children:[Object(Ge.jsx)("div",{className:"col-4",children:e.name}),Object(Ge.jsx)("div",{className:"col-4",children:e.payments}),Object(Ge.jsxs)("div",{className:"col-4",children:["$",Te(e.total)]})]},e.name)}))}()]})})})]}),Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsxs)("div",{className:"card shadow-sm p-3 no-scale",children:[Object(Ge.jsx)("h3",{children:"Ingresos por M\xe9todos de Pago"}),function(){if(Array.isArray(c)){var e=0;c.forEach((function(t){e+=parseFloat(t.total)}));var t=c.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{porcentaje:parseFloat(t.total)/parseFloat(e)})}));return Object(Ge.jsx)(An.a,{type:"donut",height:"415",width:"100%",options:{labels:t.map((function(e){return e.name}))},series:t.map((function(e){return e.porcentaje}))})}}()]})})]})]})},Dn=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useContext)(Yc),r=s.nuevos,i=s.activos,o=s.cancelados,d=(s.mensuales,s.getInscritos);Object(a.useEffect)((function(){d()}),[]);var u=function(e){return Array.isArray(e)?e.length:Object(Ge.jsx)("div",{className:"spinner-border"})};return Object(Ge.jsxs)("div",{className:"container-fluid px-0 mb-3",children:[Object(Ge.jsx)(Ca,{title:"Inscritos"}),Object(Ge.jsxs)("div",{className:"row mt-4",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-4 my-2",children:Object(Ge.jsxs)("div",{className:"card p-3 no-scale mb-4",children:[Object(Ge.jsx)("p",{className:"bold",children:"Inscritos Activos este mes"}),Object(Ge.jsx)("h3",{className:"mb-0",children:u(i)}),Object(Ge.jsx)("button",{className:"btn btn-link text-secondary text-left px-0 my-2",onClick:function(){return n("activos")},children:"Expandir"})]})}),Object(Ge.jsx)("div",{className:"col-12 col-md-4 my-2",children:Object(Ge.jsxs)("div",{className:"card p-3 no-scale",children:[Object(Ge.jsx)("p",{className:"bold",children:"Inscritos Cancelados este mes"}),Object(Ge.jsx)("h3",{className:"mb-0",children:u(o)}),Object(Ge.jsx)("button",{className:"btn btn-link text-secondary text-left px-0 my-2",onClick:function(){return n("cancelados")},children:"Expandir"})]})}),Object(Ge.jsx)("div",{className:"col-12 col-md-4 my-2",children:Object(Ge.jsxs)("div",{className:"card p-3 no-scale",children:[Object(Ge.jsx)("p",{className:"bold",children:"Inscritos Nuevos este mes"}),Object(Ge.jsx)("h3",{className:"mb-0",children:u(r)}),Object(Ge.jsx)("button",{className:"btn btn-link text-secondary text-left px-0 my-2",onClick:function(){return n("nuevos")},children:"Expandir"})]})})]}),function(){if(null!==c){var e=[];switch(c){case"nuevos":e=r;break;case"cancelados":e=o;break;default:e=i}return Object(Ge.jsxs)("div",{className:"card p-3 no-scale",children:[" ",Object(Ge.jsxs)("div",{className:"row align-items-center",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsxs)("h3",{className:"mb-0",children:["Clientes"," ",Object(Ge.jsx)("span",{className:"text-capitalize",children:c})]})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6 text-right",children:Object(Ge.jsx)("button",{className:"btn btn-link text-secondary",onClick:function(){return n(null)},children:"Ocultar"})})]}),Object(Ge.jsx)(ia,{headers:["Nombre","Correo","Tel\xe9fono","Cumplea\xf1os","Valor"]}),e.map((function(e){return Object(Ge.jsx)(ra,{customer:e},e.customer_id)}))]})}}()]})},Sn=function(){var e=Object(a.useState)(d()().startOf("month").format("YYYY-MM-DD")),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(d()().endOf("month").format("YYYY-MM-DD")),r=Object(l.a)(s,2),i=r[0],o=r[1],u=Object(a.useContext)(Yc),j=u.instructores,b=u.getInstructores,m=u.clearInstructores;Object(a.useEffect)((function(){b(c,i)}),[]),Object(a.useEffect)((function(){m(),b(c,i)}),[c,i]);return Object(Ge.jsxs)("div",{className:"container-fluid px-0 mt-3",children:[Object(Ge.jsx)("h2",{className:"border-bottom pb-3 mb-3",children:"Instructores"}),Object(Ge.jsx)("div",{className:"row",children:Object(Ge.jsx)("div",{className:"container-fluid",children:Object(Ge.jsxs)("div",{className:"card p-3 me-3 no-scale shadow-sm",children:[Object(Ge.jsxs)("div",{className:"row align-items-center pb-3",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsx)("h4",{children:"Alumnos por Instructor"})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsxs)("div",{className:"col-6 text-right",children:[Object(Ge.jsx)("a",{href:"".concat(Ie,"/analiticas/instructores?fecha_inicio=").concat(c,"&fecha_fin=").concat(i),className:"btn btn-outline-secondary me-4",children:Object(Ge.jsx)("i",{className:"far fa-file-excel"})}),Object(Ge.jsx)("label",{className:"bold d-inline",children:"Desde"}),Object(Ge.jsx)("input",{type:"date",className:"form-control d-inline ms-3 w-50",value:d()(c).format("YYYY-MM-DD"),onChange:function(e){return n(d()(e.target.value).format("YYYY-MM-DD"))}})]}),Object(Ge.jsxs)("div",{className:"col-6 text-right",children:[Object(Ge.jsx)("label",{className:"bold d-inline",children:"Hasta"}),Object(Ge.jsx)("input",{type:"date",className:"form-control d-inline ms-3 w-50",value:d()(i).format("YYYY-MM-DD"),onChange:function(e){return o(d()(e.target.value).format("YYYY-MM-DD"))}})]})]})})]}),Object(Ge.jsxs)("div",{className:"row bold bg-light border py-2 mb-2",children:[Object(Ge.jsx)("div",{className:"col",children:"Nombre"}),Object(Ge.jsx)("div",{className:"col",children:"Clases"}),Object(Ge.jsx)("div",{className:"col",children:"Reservados"}),Object(Ge.jsx)("div",{className:"col",children:"Asistentes"})]}),function(){if(j&&null!==j)return j.filter((function(e){return null!==e.name})).map((function(e){return Object(Ge.jsxs)("div",{className:"row my-2",children:[Object(Ge.jsx)("div",{className:"col",children:e.name}),Object(Ge.jsx)("div",{className:"col",children:e.single_classes}),Object(Ge.jsx)("div",{className:"col",children:e.booked}),Object(Ge.jsx)("div",{className:"col",children:e.attended})]})}))}()]})})})]})},Pn=function(){var e=Object(a.useState)(d()().startOf("year").format("YYYY-MM-DD")),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(d()().endOf("year").format("YYYY-MM-DD")),r=Object(l.a)(s,2),i=r[0],o=r[1],u=Object(a.useContext)(Yc),j=u.purchases,b=u.reservations,m=u.getMensuales;Object(a.useEffect)((function(){m(c,i)}),[c,i]);return Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsxs)("div",{className:"row border-bottom pb-3 mb-3",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("h1",{children:"Anal\xedticas Mensuales"})}),Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsxs)("div",{className:"row mx-0",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("input",{type:"date",className:"form-control ms-2",value:c,onChange:function(e){return n(d()(e.target.value).format("YYYY-MM-DD"))}})}),Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsx)("input",{type:"date",className:"form-control ms-2",value:i,onChange:function(e){return o(d()(e.target.value).format("YYYY-MM-DD"))}})})]})})]}),Object(Ge.jsxs)("div",{className:"row my-4",children:[Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsxs)("div",{className:"card shadow-sm p-3 no-scale overflow-x-hidden",children:[Object(Ge.jsx)("p",{className:"bold",children:"Reservaciones por Mes"}),function(){if(Array.isArray(b)){var e=new Array(12).fill(1);return e.forEach((function(t,c){var a=b.find((function(e){return e.month===c+1}));e[c]=a?{booked:a.booked,capacity:a.capacity,attended:a.attended,mes:d()(c+1,"MM").format("MMM")}:{booked:0,capacity:0,attended:0,mes:d()(c+1,"MM").format("MMM")}})),Object(Ge.jsx)(An.a,{type:"area",options:{colors:["#094f7f","#f84f10","#c6c0c1","#000"],xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]}},series:[{name:"Reservaciones por Mes",data:e.map((function(e){return e.booked}))},{name:"Asistentes por Mes",data:e.map((function(e){var t=e.attended;return null!==t?t:0}))},{name:"Capacidad por Mes",data:e.map((function(e){return e.capacity}))}]})}}()]})}),Object(Ge.jsx)("div",{className:"col-6",children:Object(Ge.jsxs)("div",{className:"card shadow-sm p-3 no-scale overflow-x-hidden",children:[Object(Ge.jsx)("p",{className:"bold",children:"Ingresos por Mes"}),function(){if(j&&null!==j){var e=new Array(12).fill(1);return e.forEach((function(t,c){var a=j.find((function(e){return e.month===c+1}));e[c]=a?{total:a.total,purchases:a.purchases,mes:d()(c+1,"MM").format("MMM")}:{total:0,purchases:0,mes:d()(c+1,"MM").format("MMM")}})),Object(Ge.jsx)(An.a,{type:"area",options:{colors:["#094f7f","#f84f10","#c6c0c1","#000"],dataLabels:{formatter:function(e,t){return"$".concat(Te(e))}},xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]}},series:[{name:"Ingresos por Mes",data:e.map((function(e){return e.total}))},{name:"Compras por Mes",data:e.map((function(e){return e.purchases}))}]})}}()]})})]})]})},Mn=function(){var e=Object(a.useContext)(Yc),t=e.paquetes,c=e.getPaquetes;Object(a.useEffect)((function(){c()}),[]);return Object(Ge.jsxs)("div",{className:"container-fluid",children:[Object(Ge.jsx)(Ca,{title:"Paquetes"}),Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsxs)("div",{className:"card shadow-sm p-3 me-3 no-scale my-3",children:[Object(Ge.jsx)("h4",{children:"Compras por Paquete"}),Object(Ge.jsx)(ia,{headers:["Nombre","Compras","Total"]}),function(){if(t&&null!==t)return t.map((function(e){return Object(Ge.jsxs)("div",{className:"row p-2",children:[Object(Ge.jsx)("div",{className:"col",children:e.title}),Object(Ge.jsx)("div",{className:"col",children:e.purchases}),Object(Ge.jsxs)("div",{className:"col",children:["$",Te(e.total)]})]})}))}()]})}),Object(Ge.jsx)("div",{className:"col-12 col-md-6",children:Object(Ge.jsxs)("div",{className:"card shadow-sm p-3 me-3 no-scale my-3",children:[Object(Ge.jsx)("h4",{children:"Ingresos por Paquete"}),function(){if(Array.isArray(t)){var e=0;return t.forEach((function(t){e+=t.total})),Object(Ge.jsx)(An.a,{type:"donut",height:"415",width:"100%",options:{labels:t.map((function(e){return e.title}))},series:t.map((function(t){return t.total/e}))})}}()]})})]})]})},In=function(){var e=Object(a.useContext)(Yc),t=e.reservaciones,c=e.horas,n=e.getReservaciones;Object(a.useEffect)((function(){n()}),[]);return Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsx)("h2",{className:"border-bottom pb-3 mb-3",children:"Reservaciones"}),Object(Ge.jsxs)("div",{className:"card no-scale shadow-sm my-3 p-3",children:[Object(Ge.jsx)("h4",{className:"border-bottom pb-3 mb-2",children:"Estad\xedsticas por Horario"}),function(){if(c&&null!==c){var e=Object(sa.a)(c);return e=e.sort((function(e,t){return e.class_hour>t.class_hour?1:-1})),Object(Ge.jsx)(An.a,{type:"bar",height:"300",options:{colors:["#094f7f","#f84f10","#c6c0c1","#000"],xaxis:{categories:e.map((function(e){return e.class_hour}))},yaxis:{labels:{formatter:function(e){return parseInt(e)}}}},series:[{name:"Capacidad por Horario",data:e.map((function(e){return e.capacity/e.single_classes}))},{name:"Reservadas por Horario",data:e.map((function(e){return e.bookings}))},{name:"Asistidas por Horario",data:e.map((function(e){var t=e.attended;return null===t?0:t}))},{name:"Clases por Horario",data:e.map((function(e){return e.single_classes}))}]})}}()]}),Object(Ge.jsxs)("div",{className:"card no-scale shadow-sm my-3 p-3",children:[Object(Ge.jsx)("h4",{className:"border-bottom pb-3 mb-2",children:"Procentaje de Ocupaci\xf3n por Horario"}),function(){if(c&&null!==c){var e=Object(sa.a)(c);return e=e.sort((function(e,t){return e.class_hour>t.class_hour?1:-1})),Object(Ge.jsx)(An.a,{type:"bar",height:"300",options:{colors:["#094f7f","#f84f10","#c6c0c1","#000"],xaxis:{categories:e.map((function(e){return e.class_hour}))},yaxis:{labels:{formatter:function(e){return parseInt(e)}}},dataLabels:{formatter:function(e){return"".concat(e,"%")}}},series:[{name:"Ocupaci\xf3n por Horario",data:e.map((function(e){var t=e.capacity,c=e.bookings;return 100*parseFloat(c/t).toFixed(2)}))}]})}}()]}),Object(Ge.jsx)("div",{className:"row",children:Object(Ge.jsx)("div",{className:"container-fluid",children:Object(Ge.jsxs)("div",{className:"card p-3 no-scale me-3",children:[Object(Ge.jsx)("h4",{children:"Reservaciones por Tipo de Clase"}),Object(Ge.jsx)(ia,{headers:["Nombre","Reservadas","Asistidas"]}),function(){if(t&&null!==t)return t.map((function(e,t){return Object(Ge.jsxs)("div",{className:"row p-2",children:[Object(Ge.jsx)("div",{className:"col",children:e.name}),Object(Ge.jsx)("div",{className:"col",children:e.booked}),Object(Ge.jsx)("div",{className:"col",children:e.attended})]},t)}))}()]})})})]})},Rn=function(){return Object(Ge.jsxs)(it.b,{children:[Object(Ge.jsx)(Dn,{path:"/inscritos",default:!0}),Object(Ge.jsx)(Mn,{path:"/paquetes"}),Object(Ge.jsx)(wn,{path:"/ingresos"}),Object(Ge.jsx)(In,{path:"/reservaciones"}),Object(Ge.jsx)(Sn,{path:"/instructores"}),Object(Ge.jsx)(Pn,{path:"/mensuales"})]})},Tn=function(e){var t=e.user,c=e.signOut;return Object(Ge.jsx)("nav",{className:"bg-dark hide-mobile side-menu",children:Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsx)("div",{className:"px-3",children:Object(Ge.jsx)(it.a,{to:"/",className:"navbar-brand",href:"#landing",children:Object(Ge.jsx)("img",{src:aa,className:"thumbnail"})})}),Object(Ge.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(Ge.jsx)("span",{className:"navbar-toggler-icon"})}),Object(Ge.jsx)("div",{className:"text-white",children:Object(Ge.jsxs)("ul",{className:"side-menu-list",children:[Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/clases",className:"nav-link",children:"Clases"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/asistentes",className:"nav-link",children:"Asistentes"})}),["admin","manager"].includes(t.role)&&Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/clientes",className:"nav-link",children:"Clientes"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/paquetes",className:"nav-link",children:"Paquetes"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/coaches",className:"nav-link",children:"Coaches"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/especiales",className:"nav-link",children:"Especiales"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/descuentos",className:"nav-link",children:"Descuentos"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/tipos",className:"nav-link",children:"Tipos de Clase"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/orders",className:"nav-link",children:"\xd3rdenes"})})]}),"admin"===t.role&&Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/users",className:"nav-link",children:"Usuarios"})}),"admin"===t.role&&Object(Ge.jsxs)("li",{className:"nav-item dropdown",children:[Object(Ge.jsx)("a",{className:"nav-link dropdown-toggle",href:"#analiticasDropdown",role:"button","data-bs-toggle":"collapse","aria-expanded":"false","aria-controls":"analiticasDropdown",children:"Anal\xedticas"}),Object(Ge.jsxs)("ul",{className:"collapse collapse-menu",id:"analiticasDropdown",children:[Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/analytics/inscritos",className:"nav-link",children:"Inscritos"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/analytics/ingresos",className:"nav-link",children:"Ingresos"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/analytics/instructores",className:"nav-link",children:"Instructores"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/analytics/paquetes",className:"nav-link",children:"Paquetes"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/analytics/reservaciones",className:"nav-link",children:"Reservaciones"})}),Object(Ge.jsx)("li",{className:"nav-item text-item",children:Object(Ge.jsx)(it.a,{to:"/myadmin/analytics/mensuales",className:"nav-link",children:"Mensuales"})})]})]}),Object(Ge.jsxs)("li",{className:"nav-item dropdown",children:[Object(Ge.jsxs)("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[String(t.customer.name).substr(0,20),String(t.customer.name).length>20?"...":"",Object(Ge.jsx)("i",{className:"ms-2 fa fa-user-circle"})]}),Object(Ge.jsx)("ul",{className:"dropdown-menu user-menu","aria-labelledby":"navbarDropdown",children:Object(Ge.jsx)("li",{children:Object(Ge.jsxs)("button",{className:"dropdown-item text-danger",onClick:c,children:["Salir ",Object(Ge.jsx)("i",{className:"ms-2 fa fa-sign-out-alt"})]})})})]})]})})]})})},Yn=function(){return Object(Ge.jsx)("div",{className:"container-fluid bg-dark py-3 text-white",children:Object(Ge.jsxs)("div",{className:"row",children:[Object(Ge.jsx)("div",{className:"col-12 col-md-4 mobile-center my-2",children:"\xa9 2021 Vibe N Ride"}),Object(Ge.jsx)("div",{className:"col-12 col-md-4 text-center my-2",children:"T\xe9rminos y Condiciones"}),Object(Ge.jsxs)("div",{className:"col-12 col-md-4 mobile-center text-end my-2",children:[Object(Ge.jsx)("i",{className:"fab fa-facebook footer-icon mx-2"}),Object(Ge.jsx)("i",{className:"fab fa-instagram footer-icon mx-2"}),Object(Ge.jsx)("i",{className:"fab fa-twitter footer-icon mx-2"})]})]})})},qn=function(){var e=Object(a.useContext)(Zt),t=e.user,c=e.signOut;return Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsx)(na,{signOut:c,user:t}),Object(Ge.jsx)("div",{className:"sidebar",children:Object(Ge.jsx)(Tn,{user:t,signOut:c})}),Object(Ge.jsx)("div",{className:"main-panel px-4",children:Object(Ge.jsx)("div",{className:"content overflow-x-hidden",children:Object(Ge.jsxs)(it.b,{children:[Object(Ge.jsx)(En,{path:"/*",default:!0}),Object(Ge.jsx)(Rn,{path:"/analytics/*"})]})})}),Object(Ge.jsx)(Yn,{})]})},Ln=function(){var e=Object(a.useContext)($e),t=e.title,c=e.content,n=e.component,s=e.children,r=e.onCancel,i=e.onSuccess;return Object(Ge.jsx)("div",{className:"modal fade",id:"modal",tabIndex:"-1",role:"dialog","aria-labelledby":"modal","aria-hidden":"true",children:Object(Ge.jsx)("div",{className:"modal-dialog",role:"document",children:Object(Ge.jsxs)("div",{className:"modal-content",children:[t&&Object(Ge.jsx)("div",{className:"modal-header",children:Object(Ge.jsx)("h5",{className:"modal-title",children:t})}),Object(Ge.jsxs)("div",{className:"modal-body",children:[c,n,s]}),(i||r)&&Object(Ge.jsxs)("div",{className:"modal-footer",children:[Object(Ge.jsx)("button",{type:"button",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:r,children:"Cancelar"}),Object(Ge.jsx)("button",{type:"button",className:"btn btn-primary",onClick:i,children:"OK"})]})]})})})},Hn=function(){var e=Object(a.useContext)($e),t=e.showSuccess,c=e.clearSuccess,n=e.successContent;return Object(Ge.jsxs)("div",{className:"alert alert-success alert-dismissible fixed-top ms-auto me-2 fade-show mt-2 ".concat(t?"":"hidden"),role:"alert",style:{maxWidth:500,zIndex:2500},children:[n,Object(Ge.jsx)("button",{type:"button",className:"btn-close",onClick:c})]})},Un=function(){var e=Object(a.useContext)($e),t=e.showAlert,c=e.hideAlert,n=e.alertContent;return Object(Ge.jsxs)("div",{className:"alert alert-danger alert-dismissible fixed-top ms-auto me-2 mt-1 fade-show ".concat(t?"":"hidden"),role:"alert",style:{maxWidth:500,zIndex:2500},children:[n,Object(Ge.jsx)("button",{type:"button",className:"btn-close",onClick:c})]})},Fn=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useContext)(Zt),r=s.spinner,i=s.signOut;return Object(a.useEffect)((function(){n(r)}),[]),Object(a.useEffect)((function(){!r&&c&&Object(it.c)("/entrar")}),[r]),Object(Ge.jsxs)("div",{className:"container-fluid vh-100",children:[Object(Ge.jsx)("div",{id:"loading"}),Object(Ge.jsx)("div",{className:"row align-items-center pb-5 vh-100 text-white btn-container",children:Object(Ge.jsxs)("div",{className:"container-fluid loading-text text-center",children:[Object(Ge.jsx)("img",{src:aa,className:"loading-logo mb-5"}),Object(Ge.jsx)("h4",{className:"text-white",children:"Accediendo"}),Object(Ge.jsx)("div",{className:"spinner-border text-white mb-3"}),Object(Ge.jsx)("p",{className:"mb-0 text-white",children:"Si la p\xe1gina no carga en m\xe1s de 30 segundos"}),Object(Ge.jsx)(it.a,{to:"/entrar",className:"text-white",onClick:i,children:"Haz click aqu\xed"})]})})]})},Bn=function(){var e=Object(a.useContext)(Zt),t=e.user,c=e.userLoggedIn;return Object(a.useEffect)((function(){c(),d.a.updateLocale("es",{weekdays:"Lun_Mar_Mie_Jue_Vie_Sab_Dom".split("_")})}),[]),Object(Ge.jsxs)("div",{className:"container-fluid px-0",children:[Object(Ge.jsxs)(it.b,{children:[Object(Ge.jsx)(ea,{path:"/entrar",default:!0}),Object(Ge.jsx)(ta,{path:"/recuperar"}),null!==t?Object(Ge.jsx)(qn,{path:"/myadmin/*"}):Object(Ge.jsx)(Fn,{path:"/myadmin/*"})]}),Object(Ge.jsx)(Ln,{}),Object(Ge.jsx)(Hn,{}),Object(Ge.jsx)(Un,{})]})},Vn={video_id:"nuevo",description:"",name:"",restricted:"",thumbnail:"",url:"",url_preview:"",instructor_id:"",video_type_id:"",video_type:""},Gn=function(e,t){var c=t.type,a=t.payload;switch(c){case _:return Object(i.a)(Object(i.a)({},e),{},{spinner:!0});case C:return Object(i.a)(Object(i.a)({},e),{},{spinner:!1});case w:return Object(i.a)(Object(i.a)({},e),{},{video:Vn});case be:return Object(i.a)(Object(i.a)({},e),{},{favoritos:a});case"APPEND_VIDEOS":var n=e.videos;return n=null===n?a:[].concat(Object(sa.a)(n),Object(sa.a)(a)),Object(i.a)(Object(i.a)({},e),{},{videos:n});case E:return Object(i.a)(Object(i.a)({},e),{},{videos:a});case k:return Object(i.a)(Object(i.a)({},e),{},{video:a});case Q:var s=Object(sa.a)(e.videos),r=s.findIndex((function(e){return e.video_id===a}));return-1!==r&&(s[r].favorite=1),Object(i.a)(Object(i.a)({},e),{},{videos:s});case X:var l=Object(sa.a)(e.videos),o=l.findIndex((function(e){return e.video_id===a}));return-1!==o&&(l[o].favorite=0),Object(i.a)(Object(i.a)({},e),{},{videos:l});case A:var d=a.key,u=a.value,j=Object(i.a)({},e.video);return j[d]=u,Object(i.a)(Object(i.a)({},e),{},{video:j});case D:return Object(i.a)(Object(i.a)({},e),{},{purchase_needed:!0});case _e:return Object(i.a)(Object(i.a)({},e),{},{tags:a});case Ee:return Object(i.a)(Object(i.a)({},e),{},{programs:a});default:return Object(i.a)({},e)}},zn="/programs",$n=function(){return Ue.get(zn)},Wn=function(e){return Ue.get("".concat(zn,"/").concat(e))},Jn=function(){return Ue.get("/tags")},Qn="/videos",Xn={getVideos:function(e,t,c){var a=c.query,n=c.coach,s=c.tipo;return Ue.get("".concat(Qn,"?type=").concat(e,"&page=").concat(t,"&query=").concat(a,"&coach=").concat(n,"&tipo=").concat(s))},getAllVideos:function(e,t){return Ue.get("".concat(Qn,"/admin/all?page=").concat(e,"&").concat(Re(t)))},getFavoritos:function(e){return Ue.get("/favoritos?".concat(Re(e).slice(1)))},getSingleVideo:function(e){return Ue.get("".concat(Qn,"/").concat(e))},postFavorito:function(e){return Ue.post("/favoritos",{video_id:e})},postVideo:function(e){return Ue.post(Qn,Object(i.a)({},e))},putVideo:function(e){return Ue.put(Qn,Object(i.a)({},e))},deleteFavorito:function(e){return Ue.delete("/favoritos/".concat(e))},deleteVideo:function(e){return Ue.delete("".concat(Qn,"/").concat(e))}},Kn={favoritos:null,programs:null,videos:null,video:null},Zn=Object(a.createContext)(Kn),es=function(e){var t=e.children,c=Object(a.useReducer)(Gn,Kn),n=Object(l.a)(c,2),s=n[0],r=n[1],o=Object(a.useContext)($e),d=o.alert,u=o.success,j=function(e,t){Xn.getAllVideos(e,t).then((function(e){var t=e.data.videos;r({type:E,payload:t})}))};return Object(Ge.jsx)(Zn.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getTags:function(){Jn().then((function(e){var t=e.data.tags;r({type:_e,payload:t})}))},postVideo:function(e){var t=function(){r({type:C}),Object(it.c)("/myadmin/videos"),u("Video guardado con \xe9xito")},c=function(){r({type:C}),d("Hubo un error al subir el video. Vuelve a intentarlo.")};if(e.picture&&null!==e.picture){var a=new FormData;a.append("file",e.picture),r({type:_}),tt.postAdjunto(a).then((function(a){var n=a.data.file_id;e.thumbnail=n,isNaN(e.video_id)?Xn.postVideo(e).then(t).catch(c):Xn.putVideo(e).then(t).catch(c)})).catch((function(e){r({type:C})}))}else r({type:_}),isNaN(e.video_id)?Xn.postVideo(e).then(t).catch(c):Xn.putVideo(e).then(t).catch(c)},getVideos:function(e){Xn.getVideos(e).then((function(e){var t=e.data.videos;r({type:E,payload:t})})).catch((function(e){e.response&&412===e.response.status&&r({type:D})}))},getPrograms:function(){$n().then((function(e){var t=e.data.programs;r({type:Ee,payload:t})}))},createVideo:function(){r({type:w})},clearVideos:function(){r({type:E,payload:null})},deleteVideo:function(e){Xn.deleteVideo(e).then((function(){Object(it.c)("/myadmin/videos"),u("\xa1Video eliminado con \xe9xito!"),Ye(),j()}))},getAllVideos:j,getFavoritos:function(e){Xn.getFavoritos(e).then((function(e){var t=e.data.favorites;r({type:be,payload:t})}))},getVideosByTag:function(e,t){Xn.getVideosByTag(e,t).then((function(e){var t=e.data.videos;r({type:E,payload:t})})).catch((function(e){e.response&&412===e.response.status&&r({type:D})}))},clearFavoritos:function(){r({type:be,payload:null})},getSingleVideo:function(e){Xn.getSingleVideo(e).then((function(e){var t=e.data.video;r({type:k,payload:t})})).catch((function(e){e.response&&404===e.response.status&&d("Lo sentimos, no hemos encontrado este video.")}))},agregarFavorito:function(e){Xn.postFavorito(e).then((function(){r({type:Q,payload:e}),u("\xa1Favorito agregado!")}))},eliminarFavorito:function(e){Xn.deleteFavorito(e).then((function(){r({type:X,payload:e}),u("\xa1Favorito eliminado!")}))},setPropiedadVideo:function(e,t){r({type:A,payload:{key:e,value:t}})},getVideosByProgram:function(e,t){Xn.getVideosByProgram(e,t).then((function(e){var t=e.data.videos;r({type:E,payload:t})})).catch((function(e){e.response&&412===e.response.status&&r({type:D})}))}}),children:t})},ts=function(e,t){var c=t.type,a=t.payload;switch(c){case ce:return Object(i.a)(Object(i.a)({},e),{},{video_types:a});default:return Object(i.a)({},e)}},cs=function(){return Ue.get("/video_types")},as={video_types:null,video_type:null},ns=Object(a.createContext)(as),ss=function(e){var t=e.children,c=Object(a.useReducer)(ts,as),n=Object(l.a)(c,2),s=n[0],r=n[1];return Object(Ge.jsx)(ns.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getVideoTypes:function(){cs().then((function(e){var t=e.data.video_types;r({type:ce,payload:t})}))}}),children:t})},rs=function(e,t){var c=t.type,a=t.payload;switch(c){case Ee:return Object(i.a)(Object(i.a)({},e),{},{programs:a});case ke:return Object(i.a)(Object(i.a)({},e),{},{program:a});default:return Object(i.a)({},e)}},is={programs:null,program:null},ls=Object(a.createContext)(is),os=function(e){var t=e.children,c=Object(a.useReducer)(rs,is),n=Object(l.a)(c,2),s=n[0],r=n[1];return Object(Ge.jsx)(ls.Provider,{value:Object(i.a)(Object(i.a)({},s),{},{getPrograms:function(){$n().then((function(e){var t=e.data.programs;r({type:Ee,payload:t})}))},getSingleProgram:function(e){Wn(e).then((function(e){var t=e.data.program;r({type:ke,payload:t})}))}}),children:t})};var ds=function(){return Object(Ge.jsx)(We,{children:Object(Ge.jsx)(ec,{children:Object(Ge.jsx)(qt,{children:Object(Ge.jsx)(kt,{children:Object(Ge.jsx)(rt,{children:Object(Ge.jsx)(mt,{children:Object(Ge.jsx)(vt,{children:Object(Ge.jsx)(Mt,{children:Object(Ge.jsx)(lc,{children:Object(Ge.jsx)(Xe,{children:Object(Ge.jsx)(hc,{children:Object(Ge.jsx)(Sc,{children:Object(Ge.jsx)(Ec,{children:Object(Ge.jsx)(qc,{children:Object(Ge.jsx)(Gc,{children:Object(Ge.jsx)(Kc,{children:Object(Ge.jsx)(lc,{children:Object(Ge.jsx)(es,{children:Object(Ge.jsx)(ss,{children:Object(Ge.jsx)(os,{children:Object(Ge.jsx)(vn,{children:Object(Ge.jsx)(Qa,{children:Object(Ge.jsx)(Bn,{})})})})})})})})})})})})})})})})})})})})})})})},us=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,117)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(Ge.jsx)(n.a.StrictMode,{children:Object(Ge.jsx)(ds,{})}),document.getElementById("root")),us()},40:function(e,t,c){}},[[113,1,2]]]);
//# sourceMappingURL=main.c9884f54.chunk.js.map